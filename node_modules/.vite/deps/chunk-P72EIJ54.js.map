{
  "version": 3,
  "sources": ["../../@react-pdf-viewer/core/lib/cjs/core.js", "../../@react-pdf-viewer/core/lib/index.js"],
  "sourcesContent": ["'use strict';\r\n\r\nvar React = require('react');\r\nvar PdfJsApi = require('pdfjs-dist');\r\n\r\nfunction _interopNamespaceDefault(e) {\r\n    var n = Object.create(null);\r\n    if (e) {\r\n        Object.keys(e).forEach(function (k) {\r\n            if (k !== 'default') {\r\n                var d = Object.getOwnPropertyDescriptor(e, k);\r\n                Object.defineProperty(n, k, d.get ? d : {\r\n                    enumerable: true,\r\n                    get: function () { return e[k]; }\r\n                });\r\n            }\r\n        });\r\n    }\r\n    n.default = e;\r\n    return Object.freeze(n);\r\n}\r\n\r\nvar React__namespace = /*#__PURE__*/_interopNamespaceDefault(React);\r\nvar PdfJsApi__namespace = /*#__PURE__*/_interopNamespaceDefault(PdfJsApi);\r\n\r\nexports.AnnotationType = void 0;\r\n(function (AnnotationType) {\r\n    AnnotationType[AnnotationType[\"Text\"] = 1] = \"Text\";\r\n    AnnotationType[AnnotationType[\"Link\"] = 2] = \"Link\";\r\n    AnnotationType[AnnotationType[\"FreeText\"] = 3] = \"FreeText\";\r\n    AnnotationType[AnnotationType[\"Line\"] = 4] = \"Line\";\r\n    AnnotationType[AnnotationType[\"Square\"] = 5] = \"Square\";\r\n    AnnotationType[AnnotationType[\"Circle\"] = 6] = \"Circle\";\r\n    AnnotationType[AnnotationType[\"Polygon\"] = 7] = \"Polygon\";\r\n    AnnotationType[AnnotationType[\"Polyline\"] = 8] = \"Polyline\";\r\n    AnnotationType[AnnotationType[\"Highlight\"] = 9] = \"Highlight\";\r\n    AnnotationType[AnnotationType[\"Underline\"] = 10] = \"Underline\";\r\n    AnnotationType[AnnotationType[\"Squiggly\"] = 11] = \"Squiggly\";\r\n    AnnotationType[AnnotationType[\"StrikeOut\"] = 12] = \"StrikeOut\";\r\n    AnnotationType[AnnotationType[\"Stamp\"] = 13] = \"Stamp\";\r\n    AnnotationType[AnnotationType[\"Caret\"] = 14] = \"Caret\";\r\n    AnnotationType[AnnotationType[\"Ink\"] = 15] = \"Ink\";\r\n    AnnotationType[AnnotationType[\"Popup\"] = 16] = \"Popup\";\r\n    AnnotationType[AnnotationType[\"FileAttachment\"] = 17] = \"FileAttachment\";\r\n})(exports.AnnotationType || (exports.AnnotationType = {}));\r\n\r\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexports.TextDirection = void 0;\r\n(function (TextDirection) {\r\n    TextDirection[\"RightToLeft\"] = \"RTL\";\r\n    TextDirection[\"LeftToRight\"] = \"LTR\";\r\n})(exports.TextDirection || (exports.TextDirection = {}));\r\nvar ThemeContext = React__namespace.createContext({\r\n    currentTheme: 'light',\r\n    direction: exports.TextDirection.LeftToRight,\r\n    setCurrentTheme: function () { },\r\n});\r\n\r\nvar classNames = function (classes) {\r\n    var result = [];\r\n    Object.keys(classes).forEach(function (clazz) {\r\n        if (clazz && classes[clazz]) {\r\n            result.push(clazz);\r\n        }\r\n    });\r\n    return result.join(' ');\r\n};\r\n\r\nvar Button = function (_a) {\r\n    var children = _a.children, testId = _a.testId, onClick = _a.onClick;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var attrs = testId ? { 'data-testid': testId } : {};\r\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\r\n            'rpv-core__button': true,\r\n            'rpv-core__button--rtl': isRtl,\r\n        }), type: \"button\", onClick: onClick }, attrs), children));\r\n};\r\n\r\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React__namespace.useLayoutEffect : React__namespace.useEffect;\r\n\r\nvar useIntersectionObserver = function (props) {\r\n    var containerRef = React__namespace.useRef(null);\r\n    var once = props.once, threshold = props.threshold, onVisibilityChanged = props.onVisibilityChanged;\r\n    useIsomorphicLayoutEffect(function () {\r\n        var container = containerRef.current;\r\n        if (!container) {\r\n            return;\r\n        }\r\n        var intersectionTracker = new IntersectionObserver(function (entries) {\r\n            entries.forEach(function (entry) {\r\n                var isVisible = entry.isIntersecting;\r\n                var ratio = entry.intersectionRatio;\r\n                onVisibilityChanged({ isVisible: isVisible, ratio: ratio });\r\n                if (isVisible && once) {\r\n                    intersectionTracker.unobserve(container);\r\n                    intersectionTracker.disconnect();\r\n                }\r\n            });\r\n        }, {\r\n            threshold: threshold || 0,\r\n        });\r\n        intersectionTracker.observe(container);\r\n        return function () {\r\n            intersectionTracker.unobserve(container);\r\n            intersectionTracker.disconnect();\r\n        };\r\n    }, []);\r\n    return containerRef;\r\n};\r\n\r\nvar LazyRender = function (_a) {\r\n    var attrs = _a.attrs, children = _a.children, testId = _a.testId;\r\n    var _b = React__namespace.useState(false), visible = _b[0], setVisible = _b[1];\r\n    var containerAttrs = testId ? __assign(__assign({}, attrs), { 'data-testid': testId }) : attrs;\r\n    var handleVisibilityChanged = function (params) {\r\n        if (params.isVisible) {\r\n            setVisible(true);\r\n        }\r\n    };\r\n    var containerRef = useIntersectionObserver({\r\n        once: true,\r\n        onVisibilityChanged: handleVisibilityChanged,\r\n    });\r\n    return (React__namespace.createElement(\"div\", __assign({ ref: containerRef }, containerAttrs), visible && children));\r\n};\r\n\r\nvar Menu = function (_a) {\r\n    var children = _a.children;\r\n    var containerRef = React__namespace.useRef();\r\n    var visibleMenuItemsRef = React__namespace.useRef([]);\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var handleKeyDown = function (e) {\r\n        var container = containerRef.current;\r\n        if (!container) {\r\n            return;\r\n        }\r\n        switch (e.key) {\r\n            case 'Tab':\r\n                e.preventDefault();\r\n                break;\r\n            case 'ArrowDown':\r\n                e.preventDefault();\r\n                moveToItem(function (_, currentIndex) { return currentIndex + 1; });\r\n                break;\r\n            case 'ArrowUp':\r\n                e.preventDefault();\r\n                moveToItem(function (_, currentIndex) { return currentIndex - 1; });\r\n                break;\r\n            case 'End':\r\n                e.preventDefault();\r\n                moveToItem(function (items, _) { return items.length - 1; });\r\n                break;\r\n            case 'Home':\r\n                e.preventDefault();\r\n                moveToItem(function (_, __) { return 0; });\r\n                break;\r\n        }\r\n    };\r\n    var moveToItem = function (getNextItem) {\r\n        var container = containerRef.current;\r\n        if (!container) {\r\n            return;\r\n        }\r\n        var items = visibleMenuItemsRef.current;\r\n        var currentIndex = items.findIndex(function (item) { return item.getAttribute('tabindex') === '0'; });\r\n        var targetIndex = Math.min(items.length - 1, Math.max(0, getNextItem(items, currentIndex)));\r\n        if (currentIndex >= 0 && currentIndex <= items.length - 1) {\r\n            items[currentIndex].setAttribute('tabindex', '-1');\r\n        }\r\n        items[targetIndex].setAttribute('tabindex', '0');\r\n        items[targetIndex].focus();\r\n    };\r\n    var findVisibleItems = function (container) {\r\n        var visibleItems = [];\r\n        container.querySelectorAll('.rpv-core__menu-item[role=\"menuitem\"]').forEach(function (item) {\r\n            if (item instanceof HTMLElement) {\r\n                var parent_1 = item.parentElement;\r\n                if (parent_1 === container) {\r\n                    visibleItems.push(item);\r\n                }\r\n                else {\r\n                    if (window.getComputedStyle(parent_1).display !== 'none') {\r\n                        visibleItems.push(item);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return visibleItems;\r\n    };\r\n    useIsomorphicLayoutEffect(function () {\r\n        var container = containerRef.current;\r\n        if (!container) {\r\n            return;\r\n        }\r\n        var visibleItems = findVisibleItems(container);\r\n        visibleMenuItemsRef.current = visibleItems;\r\n    }, []);\r\n    useIsomorphicLayoutEffect(function () {\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        return function () {\r\n            document.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, []);\r\n    return (React__namespace.createElement(\"div\", { ref: containerRef, \"aria-orientation\": \"vertical\", className: classNames({\r\n            'rpv-core__menu': true,\r\n            'rpv-core__menu--rtl': isRtl,\r\n        }), role: \"menu\", tabIndex: 0 }, children));\r\n};\r\n\r\nvar MenuDivider = function () { return (React__namespace.createElement(\"div\", { \"aria-orientation\": \"horizontal\", className: \"rpv-core__menu-divider\", role: \"separator\" })); };\r\n\r\nvar Icon = function (_a) {\r\n    var children = _a.children, _b = _a.ignoreDirection, ignoreDirection = _b === void 0 ? false : _b, _c = _a.size, size = _c === void 0 ? 24 : _c;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = !ignoreDirection && direction === exports.TextDirection.RightToLeft;\r\n    var width = \"\".concat(size || 24, \"px\");\r\n    return (React__namespace.createElement(\"svg\", { \"aria-hidden\": \"true\", className: classNames({\r\n            'rpv-core__icon': true,\r\n            'rpv-core__icon--rtl': isRtl,\r\n        }), focusable: \"false\", height: width, viewBox: \"0 0 24 24\", width: width }, children));\r\n};\r\n\r\nvar CheckIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M23.5,0.499l-16.5,23l-6.5-6.5\" }))); };\r\n\r\nvar MenuItem = function (_a) {\r\n    var _b = _a.checked, checked = _b === void 0 ? false : _b, children = _a.children, _c = _a.icon, icon = _c === void 0 ? null : _c, _d = _a.isDisabled, isDisabled = _d === void 0 ? false : _d, testId = _a.testId, onClick = _a.onClick;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var attrs = testId ? { 'data-testid': testId } : {};\r\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\r\n            'rpv-core__menu-item': true,\r\n            'rpv-core__menu-item--disabled': isDisabled,\r\n            'rpv-core__menu-item--ltr': !isRtl,\r\n            'rpv-core__menu-item--rtl': isRtl,\r\n        }), role: \"menuitem\", tabIndex: -1, type: \"button\", onClick: onClick }, attrs),\r\n        React__namespace.createElement(\"div\", { className: classNames({\r\n                'rpv-core__menu-item-icon': true,\r\n                'rpv-core__menu-item-icon--ltr': !isRtl,\r\n                'rpv-core__menu-item-icon--rtl': isRtl,\r\n            }) }, icon),\r\n        React__namespace.createElement(\"div\", { className: classNames({\r\n                'rpv-core__menu-item-label': true,\r\n                'rpv-core__menu-item-label--ltr': !isRtl,\r\n                'rpv-core__menu-item-label--rtl': isRtl,\r\n            }) }, children),\r\n        React__namespace.createElement(\"div\", { className: classNames({\r\n                'rpv-core__menu-item-check': true,\r\n                'rpv-core__menu-item-check--ltr': !isRtl,\r\n                'rpv-core__menu-item-check--rtl': isRtl,\r\n            }) }, checked && React__namespace.createElement(CheckIcon, null))));\r\n};\r\n\r\nvar MinimalButton = function (_a) {\r\n    var _b = _a.ariaLabel, ariaLabel = _b === void 0 ? '' : _b, _c = _a.ariaKeyShortcuts, ariaKeyShortcuts = _c === void 0 ? '' : _c, children = _a.children, _d = _a.isDisabled, isDisabled = _d === void 0 ? false : _d, _e = _a.isSelected, isSelected = _e === void 0 ? false : _e, testId = _a.testId, onClick = _a.onClick;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var attrs = testId ? { 'data-testid': testId } : {};\r\n    return (React__namespace.createElement(\"button\", __assign({ \"aria-label\": ariaLabel }, (ariaKeyShortcuts && { 'aria-keyshortcuts': ariaKeyShortcuts }), (isDisabled && { 'aria-disabled': true }), { className: classNames({\r\n            'rpv-core__minimal-button': true,\r\n            'rpv-core__minimal-button--disabled': isDisabled,\r\n            'rpv-core__minimal-button--rtl': isRtl,\r\n            'rpv-core__minimal-button--selected': isSelected,\r\n        }), type: \"button\", onClick: onClick }, attrs), children));\r\n};\r\n\r\nvar PrimaryButton = function (_a) {\r\n    var children = _a.children, testId = _a.testId, onClick = _a.onClick;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var attrs = testId ? { 'data-testid': testId } : {};\r\n    return (React__namespace.createElement(\"button\", __assign({ className: classNames({\r\n            'rpv-core__primary-button': true,\r\n            'rpv-core__primary-button--rtl': isRtl,\r\n        }), type: \"button\", onClick: onClick }, attrs), children));\r\n};\r\n\r\nvar ProgressBar = function (_a) {\r\n    var progress = _a.progress;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    return (React__namespace.createElement(\"div\", { className: classNames({\r\n            'rpv-core__progress-bar': true,\r\n            'rpv-core__progress-bar--rtl': isRtl,\r\n        }) },\r\n        React__namespace.createElement(\"div\", { className: \"rpv-core__progress-bar-progress\", style: { width: \"\".concat(progress, \"%\") } },\r\n            progress,\r\n            \"%\")));\r\n};\r\n\r\nvar Separator = function () { return React__namespace.createElement(\"div\", { className: \"rpv-core__separator\" }); };\r\n\r\nvar Spinner = function (_a) {\r\n    var _b = _a.size, size = _b === void 0 ? '4rem' : _b, testId = _a.testId;\r\n    var _c = React__namespace.useState(false), visible = _c[0], setVisible = _c[1];\r\n    var attrs = testId ? { 'data-testid': testId } : {};\r\n    var handleVisibilityChanged = function (params) {\r\n        setVisible(params.isVisible);\r\n    };\r\n    var containerRef = useIntersectionObserver({\r\n        onVisibilityChanged: handleVisibilityChanged,\r\n    });\r\n    return (React__namespace.createElement(\"div\", __assign({}, attrs, { className: classNames({\r\n            'rpv-core__spinner': true,\r\n            'rpv-core__spinner--animating': visible,\r\n        }), ref: containerRef, style: { height: size, width: size } })));\r\n};\r\n\r\nvar Splitter = function (_a) {\r\n    var constrain = _a.constrain;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var resizerRef = React__namespace.useRef();\r\n    var leftSideRef = React__namespace.useRef();\r\n    var rightSideRef = React__namespace.useRef();\r\n    var xRef = React__namespace.useRef(0);\r\n    var yRef = React__namespace.useRef(0);\r\n    var leftWidthRef = React__namespace.useRef(0);\r\n    var resizerWidthRef = React__namespace.useRef(0);\r\n    var eventOptions = {\r\n        capture: true,\r\n    };\r\n    var handleMouseMove = function (e) {\r\n        var resizerEle = resizerRef.current;\r\n        var leftSide = leftSideRef.current;\r\n        var rightSide = rightSideRef.current;\r\n        if (!resizerEle || !leftSide || !rightSide) {\r\n            return;\r\n        }\r\n        var resizerWidth = resizerWidthRef.current;\r\n        var dx = e.clientX - xRef.current;\r\n        var firstHalfSize = leftWidthRef.current + (isRtl ? -dx : dx);\r\n        var containerWidth = resizerEle.parentElement.getBoundingClientRect().width;\r\n        var firstHalfPercentage = (firstHalfSize * 100) / containerWidth;\r\n        resizerEle.classList.add('rpv-core__splitter--resizing');\r\n        if (constrain) {\r\n            var secondHalfSize = containerWidth - firstHalfSize - resizerWidth;\r\n            var secondHalfPercentage = (secondHalfSize * 100) / containerWidth;\r\n            if (!constrain({ firstHalfPercentage: firstHalfPercentage, firstHalfSize: firstHalfSize, secondHalfPercentage: secondHalfPercentage, secondHalfSize: secondHalfSize })) {\r\n                return;\r\n            }\r\n        }\r\n        leftSide.style.width = \"\".concat(firstHalfPercentage, \"%\");\r\n        document.body.classList.add('rpv-core__splitter-body--resizing');\r\n        leftSide.classList.add('rpv-core__splitter-sibling--resizing');\r\n        rightSide.classList.add('rpv-core__splitter-sibling--resizing');\r\n    };\r\n    var handleMouseUp = function (e) {\r\n        var resizerEle = resizerRef.current;\r\n        var leftSide = leftSideRef.current;\r\n        var rightSide = rightSideRef.current;\r\n        if (!resizerEle || !leftSide || !rightSide) {\r\n            return;\r\n        }\r\n        document.body.classList.remove('rpv-core__splitter-body--resizing');\r\n        resizerEle.classList.remove('rpv-core__splitter--resizing');\r\n        leftSide.classList.remove('rpv-core__splitter-sibling--resizing');\r\n        rightSide.classList.remove('rpv-core__splitter-sibling--resizing');\r\n        document.removeEventListener('mousemove', handleMouseMove, eventOptions);\r\n        document.removeEventListener('mouseup', handleMouseUp, eventOptions);\r\n    };\r\n    var handleMouseDown = function (e) {\r\n        var leftSide = leftSideRef.current;\r\n        if (!leftSide) {\r\n            return;\r\n        }\r\n        xRef.current = e.clientX;\r\n        yRef.current = e.clientY;\r\n        leftWidthRef.current = leftSide.getBoundingClientRect().width;\r\n        document.addEventListener('mousemove', handleMouseMove, eventOptions);\r\n        document.addEventListener('mouseup', handleMouseUp, eventOptions);\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        var resizerEle = resizerRef.current;\r\n        if (!resizerEle) {\r\n            return;\r\n        }\r\n        resizerWidthRef.current = resizerEle.getBoundingClientRect().width;\r\n        leftSideRef.current = resizerEle.previousElementSibling;\r\n        rightSideRef.current = resizerEle.nextElementSibling;\r\n    }, []);\r\n    return React__namespace.createElement(\"div\", { ref: resizerRef, className: \"rpv-core__splitter\", onMouseDown: handleMouseDown });\r\n};\r\n\r\nvar TextBox = function (_a) {\r\n    var _b = _a.ariaLabel, ariaLabel = _b === void 0 ? '' : _b, _c = _a.autoFocus, autoFocus = _c === void 0 ? false : _c, _d = _a.placeholder, placeholder = _d === void 0 ? '' : _d, testId = _a.testId, _e = _a.type, type = _e === void 0 ? 'text' : _e, _f = _a.value, value = _f === void 0 ? '' : _f, onChange = _a.onChange, _g = _a.onKeyDown, onKeyDown = _g === void 0 ? function () { } : _g;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var textboxRef = React__namespace.useRef();\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var attrs = {\r\n        ref: textboxRef,\r\n        'data-testid': '',\r\n        'aria-label': ariaLabel,\r\n        className: classNames({\r\n            'rpv-core__textbox': true,\r\n            'rpv-core__textbox--rtl': isRtl,\r\n        }),\r\n        placeholder: placeholder,\r\n        value: value,\r\n        onChange: function (e) { return onChange(e.target.value); },\r\n        onKeyDown: onKeyDown,\r\n    };\r\n    if (testId) {\r\n        attrs['data-testid'] = testId;\r\n    }\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (autoFocus) {\r\n            var textboxEle = textboxRef.current;\r\n            if (textboxEle) {\r\n                var x = window.scrollX;\r\n                var y = window.scrollY;\r\n                textboxEle.focus();\r\n                window.scrollTo(x, y);\r\n            }\r\n        }\r\n    }, []);\r\n    return type === 'text' ? React__namespace.createElement(\"input\", __assign({ type: \"text\" }, attrs)) : React__namespace.createElement(\"input\", __assign({ type: \"password\" }, attrs));\r\n};\r\n\r\nvar Api;\r\n(function (Api) {\r\n    Api[Api[\"ExitFullScreen\"] = 0] = \"ExitFullScreen\";\r\n    Api[Api[\"FullScreenChange\"] = 1] = \"FullScreenChange\";\r\n    Api[Api[\"FullScreenElement\"] = 2] = \"FullScreenElement\";\r\n    Api[Api[\"FullScreenEnabled\"] = 3] = \"FullScreenEnabled\";\r\n    Api[Api[\"RequestFullScreen\"] = 4] = \"RequestFullScreen\";\r\n})(Api || (Api = {}));\r\nvar defaultVendor = {\r\n    ExitFullScreen: 'exitFullscreen',\r\n    FullScreenChange: 'fullscreenchange',\r\n    FullScreenElement: 'fullscreenElement',\r\n    FullScreenEnabled: 'fullscreenEnabled',\r\n    RequestFullScreen: 'requestFullscreen',\r\n};\r\nvar webkitVendor = {\r\n    ExitFullScreen: 'webkitExitFullscreen',\r\n    FullScreenChange: 'webkitfullscreenchange',\r\n    FullScreenElement: 'webkitFullscreenElement',\r\n    FullScreenEnabled: 'webkitFullscreenEnabled',\r\n    RequestFullScreen: 'webkitRequestFullscreen',\r\n};\r\nvar msVendor = {\r\n    ExitFullScreen: 'msExitFullscreen',\r\n    FullScreenChange: 'msFullscreenChange',\r\n    FullScreenElement: 'msFullscreenElement',\r\n    FullScreenEnabled: 'msFullscreenEnabled',\r\n    RequestFullScreen: 'msRequestFullscreen',\r\n};\r\nvar isBrowser = typeof window !== 'undefined';\r\nvar vendor = isBrowser\r\n    ? (Api.FullScreenEnabled in document && defaultVendor) ||\r\n        (webkitVendor.FullScreenEnabled in document && webkitVendor) ||\r\n        (msVendor.FullScreenEnabled in document && msVendor) ||\r\n        defaultVendor\r\n    : defaultVendor;\r\nvar isFullScreenEnabled = function () {\r\n    return isBrowser && vendor.FullScreenEnabled in document && document[vendor.FullScreenEnabled] === true;\r\n};\r\nvar addFullScreenChangeListener = function (handler) {\r\n    if (isBrowser) {\r\n        document.addEventListener(vendor.FullScreenChange, handler);\r\n    }\r\n};\r\nvar removeFullScreenChangeListener = function (handler) {\r\n    if (isBrowser) {\r\n        document.removeEventListener(vendor.FullScreenChange, handler);\r\n    }\r\n};\r\nvar exitFullScreen = function (element) {\r\n    return isBrowser\r\n        ?\r\n            element[vendor.ExitFullScreen]()\r\n        : Promise.resolve({});\r\n};\r\nvar getFullScreenElement = function () {\r\n    return isBrowser ? document[vendor.FullScreenElement] : null;\r\n};\r\nvar requestFullScreen = function (element) {\r\n    if (isBrowser) {\r\n        element[vendor.RequestFullScreen]();\r\n    }\r\n};\r\n\r\nvar useDebounceCallback = function (callback, wait) {\r\n    var timeout = React__namespace.useRef();\r\n    var cleanup = function () {\r\n        if (timeout.current) {\r\n            clearTimeout(timeout.current);\r\n        }\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        return function () { return cleanup(); };\r\n    }, []);\r\n    return React__namespace.useCallback(function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        cleanup();\r\n        timeout.current = setTimeout(function () {\r\n            callback.apply(void 0, args);\r\n        }, wait);\r\n    }, [callback, wait]);\r\n};\r\n\r\nvar useIsMounted = function () {\r\n    var isMountedRef = React__namespace.useRef(false);\r\n    React__namespace.useEffect(function () {\r\n        isMountedRef.current = true;\r\n        return function () {\r\n            isMountedRef.current = false;\r\n        };\r\n    }, []);\r\n    return isMountedRef;\r\n};\r\n\r\nvar usePrevious = function (value) {\r\n    var ref = React__namespace.useRef(value);\r\n    React__namespace.useEffect(function () {\r\n        ref.current = value;\r\n    }, [value]);\r\n    return ref.current;\r\n};\r\n\r\nvar PageRenderStatus;\r\n(function (PageRenderStatus) {\r\n    PageRenderStatus[\"NotRenderedYet\"] = \"NotRenderedYet\";\r\n    PageRenderStatus[\"Rendering\"] = \"Rendering\";\r\n    PageRenderStatus[\"Rendered\"] = \"Rendered\";\r\n})(PageRenderStatus || (PageRenderStatus = {}));\r\nvar OUT_OF_RANGE_VISIBILITY = -9999;\r\nvar useRenderQueue = function (_a) {\r\n    var doc = _a.doc;\r\n    var numPages = doc.numPages;\r\n    var docId = doc.loadingTask.docId;\r\n    var initialPageVisibilities = React__namespace.useMemo(function () {\r\n        return Array(numPages)\r\n            .fill(null)\r\n            .map(function (_, pageIndex) { return ({\r\n            pageIndex: pageIndex,\r\n            renderStatus: PageRenderStatus.NotRenderedYet,\r\n            visibility: OUT_OF_RANGE_VISIBILITY,\r\n        }); });\r\n    }, [docId]);\r\n    var latestRef = React__namespace.useRef({\r\n        currentRenderingPage: -1,\r\n        startRange: 0,\r\n        endRange: numPages - 1,\r\n        visibilities: initialPageVisibilities,\r\n    });\r\n    var markNotRendered = function () {\r\n        for (var i = 0; i < numPages; i++) {\r\n            latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\r\n        }\r\n    };\r\n    var markRendered = function (pageIndex) {\r\n        latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendered;\r\n    };\r\n    var markRendering = function (pageIndex) {\r\n        if (latestRef.current.currentRenderingPage !== -1 &&\r\n            latestRef.current.currentRenderingPage !== pageIndex &&\r\n            latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus ===\r\n                PageRenderStatus.Rendering) {\r\n            latestRef.current.visibilities[latestRef.current.currentRenderingPage].renderStatus =\r\n                PageRenderStatus.NotRenderedYet;\r\n        }\r\n        latestRef.current.visibilities[pageIndex].renderStatus = PageRenderStatus.Rendering;\r\n        latestRef.current.currentRenderingPage = pageIndex;\r\n    };\r\n    var setRange = function (startIndex, endIndex) {\r\n        latestRef.current.startRange = startIndex;\r\n        latestRef.current.endRange = endIndex;\r\n        for (var i = 0; i < numPages; i++) {\r\n            if (i < startIndex || i > endIndex) {\r\n                latestRef.current.visibilities[i].visibility = OUT_OF_RANGE_VISIBILITY;\r\n                latestRef.current.visibilities[i].renderStatus = PageRenderStatus.NotRenderedYet;\r\n            }\r\n        }\r\n    };\r\n    var setOutOfRange = function (pageIndex) {\r\n        setVisibility(pageIndex, OUT_OF_RANGE_VISIBILITY);\r\n    };\r\n    var setVisibility = function (pageIndex, visibility) {\r\n        latestRef.current.visibilities[pageIndex].visibility = visibility;\r\n    };\r\n    var getHighestPriorityPage = function () {\r\n        var visiblePages = latestRef.current.visibilities\r\n            .slice(latestRef.current.startRange, latestRef.current.endRange + 1)\r\n            .filter(function (item) { return item.visibility > OUT_OF_RANGE_VISIBILITY; });\r\n        if (!visiblePages.length) {\r\n            return -1;\r\n        }\r\n        var firstVisiblePage = visiblePages[0].pageIndex;\r\n        var lastVisiblePage = visiblePages[visiblePages.length - 1].pageIndex;\r\n        var numVisiblePages = visiblePages.length;\r\n        for (var i = 0; i < numVisiblePages; i++) {\r\n            if (visiblePages[i].renderStatus === PageRenderStatus.Rendering) {\r\n                return -1;\r\n            }\r\n            if (visiblePages[i].renderStatus === PageRenderStatus.NotRenderedYet) {\r\n                return visiblePages[i].pageIndex;\r\n            }\r\n        }\r\n        if (lastVisiblePage + 1 < numPages &&\r\n            latestRef.current.visibilities[lastVisiblePage + 1].renderStatus !== PageRenderStatus.Rendered) {\r\n            return lastVisiblePage + 1;\r\n        }\r\n        else if (firstVisiblePage - 1 >= 0 &&\r\n            latestRef.current.visibilities[firstVisiblePage - 1].renderStatus !== PageRenderStatus.Rendered) {\r\n            return firstVisiblePage - 1;\r\n        }\r\n        return -1;\r\n    };\r\n    var isInRange = function (pageIndex) {\r\n        return pageIndex >= latestRef.current.startRange && pageIndex <= latestRef.current.endRange;\r\n    };\r\n    return {\r\n        getHighestPriorityPage: getHighestPriorityPage,\r\n        isInRange: isInRange,\r\n        markNotRendered: markNotRendered,\r\n        markRendered: markRendered,\r\n        markRendering: markRendering,\r\n        setOutOfRange: setOutOfRange,\r\n        setRange: setRange,\r\n        setVisibility: setVisibility,\r\n    };\r\n};\r\n\r\nvar core = {\r\n\taskingPassword: {\r\n\t\trequirePasswordToOpen: \"This document requires a password to open\",\r\n\t\tsubmit: \"Submit\"\r\n\t},\r\n\twrongPassword: {\r\n\t\ttryAgain: \"The password is wrong. Please try again\"\r\n\t},\r\n\tpageLabel: \"Page {{pageIndex}}\"\r\n};\r\nvar enUs = {\r\n\tcore: core\r\n};\r\n\r\nvar DefaultLocalization = enUs;\r\nvar LocalizationContext = React__namespace.createContext({\r\n    l10n: DefaultLocalization,\r\n    setL10n: function () { },\r\n});\r\n\r\nvar id = 0;\r\nvar uniqueId = function () { return id++; };\r\n\r\nvar useClickOutside = function (closeOnClickOutside, targetRef, onClickOutside) {\r\n    var clickHandler = function (e) {\r\n        var target = targetRef.current;\r\n        if (!target) {\r\n            return;\r\n        }\r\n        var clickedTarget = e.target;\r\n        if (clickedTarget instanceof Element && clickedTarget.shadowRoot) {\r\n            var paths = e.composedPath();\r\n            if (paths.length > 0 && !target.contains(paths[0])) {\r\n                onClickOutside();\r\n            }\r\n        }\r\n        else if (!target.contains(clickedTarget)) {\r\n            onClickOutside();\r\n        }\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        if (!closeOnClickOutside) {\r\n            return;\r\n        }\r\n        var eventOptions = {\r\n            capture: true,\r\n        };\r\n        document.addEventListener('click', clickHandler, eventOptions);\r\n        return function () {\r\n            document.removeEventListener('click', clickHandler, eventOptions);\r\n        };\r\n    }, []);\r\n};\r\n\r\nvar useEscape = function (handler) {\r\n    var keyUpHandler = function (e) {\r\n        if (e.key === 'Escape') {\r\n            handler();\r\n        }\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        document.addEventListener('keyup', keyUpHandler);\r\n        return function () {\r\n            document.removeEventListener('keyup', keyUpHandler);\r\n        };\r\n    }, []);\r\n};\r\n\r\nvar useLockScroll = function () {\r\n    React__namespace.useEffect(function () {\r\n        var originalStyle = window.getComputedStyle(document.body).overflow;\r\n        document.body.style.overflow = 'hidden';\r\n        return function () {\r\n            document.body.style.overflow = originalStyle;\r\n        };\r\n    }, []);\r\n};\r\n\r\nvar ModalBody = function (_a) {\r\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, onToggle = _a.onToggle;\r\n    var contentRef = React__namespace.useRef();\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    useLockScroll();\r\n    useEscape(function () {\r\n        if (contentRef.current && closeOnEscape) {\r\n            onToggle();\r\n        }\r\n    });\r\n    useClickOutside(closeOnClickOutside, contentRef, onToggle);\r\n    useIsomorphicLayoutEffect(function () {\r\n        var contentEle = contentRef.current;\r\n        if (!contentEle) {\r\n            return;\r\n        }\r\n        var maxHeight = document.body.clientHeight * 0.75;\r\n        if (contentEle.getBoundingClientRect().height >= maxHeight) {\r\n            contentEle.style.overflow = 'auto';\r\n            contentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\r\n        }\r\n    }, []);\r\n    return (React__namespace.createElement(\"div\", { \"aria-modal\": \"true\", className: classNames({\r\n            'rpv-core__modal-body': true,\r\n            'rpv-core__modal-body--rtl': isRtl,\r\n        }), id: \"rpv-core__modal-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"dialog\", tabIndex: -1 }, children));\r\n};\r\n\r\nvar ModalOverlay = function (_a) {\r\n    var children = _a.children;\r\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__modal-overlay\" }, children);\r\n};\r\n\r\nexports.ToggleStatus = void 0;\r\n(function (ToggleStatus) {\r\n    ToggleStatus[\"Close\"] = \"Close\";\r\n    ToggleStatus[\"Open\"] = \"Open\";\r\n    ToggleStatus[\"Toggle\"] = \"Toggle\";\r\n})(exports.ToggleStatus || (exports.ToggleStatus = {}));\r\n\r\nvar useToggle = function (isOpened) {\r\n    var _a = React__namespace.useState(isOpened), opened = _a[0], setOpened = _a[1];\r\n    var toggle = function (status) {\r\n        switch (status) {\r\n            case exports.ToggleStatus.Close:\r\n                setOpened(false);\r\n                break;\r\n            case exports.ToggleStatus.Open:\r\n                setOpened(true);\r\n                break;\r\n            case exports.ToggleStatus.Toggle:\r\n            default:\r\n                setOpened(function (isOpened) { return !isOpened; });\r\n                break;\r\n        }\r\n    };\r\n    return { opened: opened, toggle: toggle };\r\n};\r\n\r\nvar Portal = function (_a) {\r\n    var content = _a.content, _b = _a.isOpened, isOpened = _b === void 0 ? false : _b, target = _a.target;\r\n    var _c = useToggle(isOpened), opened = _c.opened, toggle = _c.toggle;\r\n    return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        target && target(toggle, opened),\r\n        opened && content(toggle)));\r\n};\r\n\r\nvar Modal = function (_a) {\r\n    var ariaControlsSuffix = _a.ariaControlsSuffix, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, content = _a.content, _b = _a.isOpened, isOpened = _b === void 0 ? false : _b, target = _a.target;\r\n    var controlsSuffix = ariaControlsSuffix || \"\".concat(uniqueId());\r\n    var renderTarget = function (toggle, opened) { return (React__namespace.createElement(\"div\", { \"aria-expanded\": opened ? 'true' : 'false', \"aria-haspopup\": \"dialog\", \"aria-controls\": \"rpv-core__modal-body-\".concat(controlsSuffix) }, target(toggle, opened))); };\r\n    var renderContent = function (toggle) { return (React__namespace.createElement(ModalOverlay, null,\r\n        React__namespace.createElement(ModalBody, { ariaControlsSuffix: controlsSuffix, closeOnClickOutside: closeOnClickOutside, closeOnEscape: closeOnEscape, onToggle: toggle }, content(toggle)))); };\r\n    return React__namespace.createElement(Portal, { target: target ? renderTarget : null, content: renderContent, isOpened: isOpened });\r\n};\r\n\r\nexports.Position = void 0;\r\n(function (Position) {\r\n    Position[\"TopLeft\"] = \"TOP_LEFT\";\r\n    Position[\"TopCenter\"] = \"TOP_CENTER\";\r\n    Position[\"TopRight\"] = \"TOP_RIGHT\";\r\n    Position[\"RightTop\"] = \"RIGHT_TOP\";\r\n    Position[\"RightCenter\"] = \"RIGHT_CENTER\";\r\n    Position[\"RightBottom\"] = \"RIGHT_BOTTOM\";\r\n    Position[\"BottomLeft\"] = \"BOTTOM_LEFT\";\r\n    Position[\"BottomCenter\"] = \"BOTTOM_CENTER\";\r\n    Position[\"BottomRight\"] = \"BOTTOM_RIGHT\";\r\n    Position[\"LeftTop\"] = \"LEFT_TOP\";\r\n    Position[\"LeftCenter\"] = \"LEFT_CENTER\";\r\n    Position[\"LeftBottom\"] = \"LEFT_BOTTOM\";\r\n})(exports.Position || (exports.Position = {}));\r\n\r\nvar calculatePosition = function (content, target, position, offset) {\r\n    var targetRect = target.getBoundingClientRect();\r\n    var contentRect = content.getBoundingClientRect();\r\n    var height = contentRect.height, width = contentRect.width;\r\n    var top = 0;\r\n    var left = 0;\r\n    switch (position) {\r\n        case exports.Position.TopLeft:\r\n            top = targetRect.top - height;\r\n            left = targetRect.left;\r\n            break;\r\n        case exports.Position.TopCenter:\r\n            top = targetRect.top - height;\r\n            left = targetRect.left + targetRect.width / 2 - width / 2;\r\n            break;\r\n        case exports.Position.TopRight:\r\n            top = targetRect.top - height;\r\n            left = targetRect.left + targetRect.width - width;\r\n            break;\r\n        case exports.Position.RightTop:\r\n            top = targetRect.top;\r\n            left = targetRect.left + targetRect.width;\r\n            break;\r\n        case exports.Position.RightCenter:\r\n            top = targetRect.top + targetRect.height / 2 - height / 2;\r\n            left = targetRect.left + targetRect.width;\r\n            break;\r\n        case exports.Position.RightBottom:\r\n            top = targetRect.top + targetRect.height - height;\r\n            left = targetRect.left + targetRect.width;\r\n            break;\r\n        case exports.Position.BottomLeft:\r\n            top = targetRect.top + targetRect.height;\r\n            left = targetRect.left;\r\n            break;\r\n        case exports.Position.BottomCenter:\r\n            top = targetRect.top + targetRect.height;\r\n            left = targetRect.left + targetRect.width / 2 - width / 2;\r\n            break;\r\n        case exports.Position.BottomRight:\r\n            top = targetRect.top + targetRect.height;\r\n            left = targetRect.left + targetRect.width - width;\r\n            break;\r\n        case exports.Position.LeftTop:\r\n            top = targetRect.top;\r\n            left = targetRect.left - width;\r\n            break;\r\n        case exports.Position.LeftCenter:\r\n            top = targetRect.top + targetRect.height / 2 - height / 2;\r\n            left = targetRect.left - width;\r\n            break;\r\n        case exports.Position.LeftBottom:\r\n            top = targetRect.top + targetRect.height - height;\r\n            left = targetRect.left - width;\r\n            break;\r\n    }\r\n    return {\r\n        left: left + (offset.left || 0),\r\n        top: top + (offset.top || 0),\r\n    };\r\n};\r\n\r\nvar usePosition = function (contentRef, targetRef, anchorRef, position, offset) {\r\n    useIsomorphicLayoutEffect(function () {\r\n        var targetEle = targetRef.current;\r\n        var contentEle = contentRef.current;\r\n        var anchorEle = anchorRef.current;\r\n        if (!contentEle || !targetEle || !anchorEle) {\r\n            return;\r\n        }\r\n        var anchorRect = anchorEle.getBoundingClientRect();\r\n        var _a = calculatePosition(contentEle, targetEle, position, offset), top = _a.top, left = _a.left;\r\n        contentEle.style.top = \"\".concat(top - anchorRect.top, \"px\");\r\n        contentEle.style.left = \"\".concat(left - anchorRect.left, \"px\");\r\n    }, []);\r\n};\r\n\r\nvar Arrow = function (_a) {\r\n    var _b;\r\n    var customClassName = _a.customClassName, position = _a.position;\r\n    return (React__namespace.createElement(\"div\", { className: classNames((_b = {\r\n                'rpv-core__arrow': true,\r\n                'rpv-core__arrow--tl': position === exports.Position.TopLeft,\r\n                'rpv-core__arrow--tc': position === exports.Position.TopCenter,\r\n                'rpv-core__arrow--tr': position === exports.Position.TopRight,\r\n                'rpv-core__arrow--rt': position === exports.Position.RightTop,\r\n                'rpv-core__arrow--rc': position === exports.Position.RightCenter,\r\n                'rpv-core__arrow--rb': position === exports.Position.RightBottom,\r\n                'rpv-core__arrow--bl': position === exports.Position.BottomLeft,\r\n                'rpv-core__arrow--bc': position === exports.Position.BottomCenter,\r\n                'rpv-core__arrow--br': position === exports.Position.BottomRight,\r\n                'rpv-core__arrow--lt': position === exports.Position.LeftTop,\r\n                'rpv-core__arrow--lc': position === exports.Position.LeftCenter,\r\n                'rpv-core__arrow--lb': position === exports.Position.LeftBottom\r\n            },\r\n            _b[\"\".concat(customClassName)] = customClassName !== '',\r\n            _b)) }));\r\n};\r\n\r\nvar PopoverBody = function (_a) {\r\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, closeOnClickOutside = _a.closeOnClickOutside, offset = _a.offset, position = _a.position, targetRef = _a.targetRef, onClose = _a.onClose;\r\n    var contentRef = React__namespace.useRef();\r\n    var innerRef = React__namespace.useRef();\r\n    var anchorRef = React__namespace.useRef();\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    useClickOutside(closeOnClickOutside, contentRef, onClose);\r\n    usePosition(contentRef, targetRef, anchorRef, position, offset);\r\n    useIsomorphicLayoutEffect(function () {\r\n        var innerContentEle = innerRef.current;\r\n        if (!innerContentEle) {\r\n            return;\r\n        }\r\n        var maxHeight = document.body.clientHeight * 0.75;\r\n        if (innerContentEle.getBoundingClientRect().height >= maxHeight) {\r\n            innerContentEle.style.overflow = 'auto';\r\n            innerContentEle.style.maxHeight = \"\".concat(maxHeight, \"px\");\r\n        }\r\n    }, []);\r\n    var innerId = \"rpv-core__popover-body-inner-\".concat(ariaControlsSuffix);\r\n    return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        React__namespace.createElement(\"div\", { ref: anchorRef, style: { left: 0, position: 'absolute', top: 0 } }),\r\n        React__namespace.createElement(\"div\", { \"aria-describedby\": innerId, className: classNames({\r\n                'rpv-core__popover-body': true,\r\n                'rpv-core__popover-body--rtl': isRtl,\r\n            }), id: \"rpv-core__popover-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"dialog\", tabIndex: -1 },\r\n            React__namespace.createElement(Arrow, { customClassName: \"rpv-core__popover-body-arrow\", position: position }),\r\n            React__namespace.createElement(\"div\", { id: innerId, ref: innerRef }, children))));\r\n};\r\n\r\nvar PopoverOverlay = function (_a) {\r\n    var closeOnEscape = _a.closeOnEscape, onClose = _a.onClose;\r\n    var containerRef = React__namespace.useRef();\r\n    useEscape(function () {\r\n        if (containerRef.current && closeOnEscape) {\r\n            onClose();\r\n        }\r\n    });\r\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__popover-overlay\", ref: containerRef });\r\n};\r\n\r\nvar Popover = function (_a) {\r\n    var _b = _a.ariaHasPopup, ariaHasPopup = _b === void 0 ? 'dialog' : _b, ariaControlsSuffix = _a.ariaControlsSuffix, closeOnClickOutside = _a.closeOnClickOutside, closeOnEscape = _a.closeOnEscape, content = _a.content, _c = _a.lockScroll, lockScroll = _c === void 0 ? true : _c, offset = _a.offset, position = _a.position, target = _a.target;\r\n    var _d = useToggle(false), opened = _d.opened, toggle = _d.toggle;\r\n    var targetRef = React__namespace.useRef();\r\n    var controlsSuffix = React__namespace.useMemo(function () { return ariaControlsSuffix || \"\".concat(uniqueId()); }, []);\r\n    return (React__namespace.createElement(\"div\", { ref: targetRef, \"aria-expanded\": opened ? 'true' : 'false', \"aria-haspopup\": ariaHasPopup, \"aria-controls\": \"rpv-core__popver-body-\".concat(controlsSuffix) },\r\n        target(toggle, opened),\r\n        opened && (React__namespace.createElement(React__namespace.Fragment, null,\r\n            lockScroll && React__namespace.createElement(PopoverOverlay, { closeOnEscape: closeOnEscape, onClose: toggle }),\r\n            React__namespace.createElement(PopoverBody, { ariaControlsSuffix: controlsSuffix, closeOnClickOutside: closeOnClickOutside, offset: offset, position: position, targetRef: targetRef, onClose: toggle }, content(toggle))))));\r\n};\r\n\r\nvar TooltipBody = function (_a) {\r\n    var ariaControlsSuffix = _a.ariaControlsSuffix, children = _a.children, contentRef = _a.contentRef, offset = _a.offset, position = _a.position, targetRef = _a.targetRef;\r\n    var anchorRef = React__namespace.useRef();\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    usePosition(contentRef, targetRef, anchorRef, position, offset);\r\n    return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        React__namespace.createElement(\"div\", { ref: anchorRef, style: { left: 0, position: 'absolute', top: 0 } }),\r\n        React__namespace.createElement(\"div\", { className: classNames({\r\n                'rpv-core__tooltip-body': true,\r\n                'rpv-core__tooltip-body--rtl': isRtl,\r\n            }), id: \"rpv-core__tooltip-body-\".concat(ariaControlsSuffix), ref: contentRef, role: \"tooltip\" },\r\n            React__namespace.createElement(Arrow, { customClassName: \"rpv-core__tooltip-body-arrow\", position: position }),\r\n            React__namespace.createElement(\"div\", { className: \"rpv-core__tooltip-body-content\" }, children))));\r\n};\r\n\r\nvar Tooltip = function (_a) {\r\n    var ariaControlsSuffix = _a.ariaControlsSuffix, content = _a.content, offset = _a.offset, position = _a.position, target = _a.target;\r\n    var _b = useToggle(false), opened = _b.opened, toggle = _b.toggle;\r\n    var targetRef = React__namespace.useRef();\r\n    var contentRef = React__namespace.useRef();\r\n    var controlsSuffix = React__namespace.useMemo(function () { return ariaControlsSuffix || \"\".concat(uniqueId()); }, []);\r\n    useEscape(function () {\r\n        if (targetRef.current && document.activeElement && targetRef.current.contains(document.activeElement)) {\r\n            close();\r\n        }\r\n    });\r\n    var open = function () {\r\n        toggle(exports.ToggleStatus.Open);\r\n    };\r\n    var close = function () {\r\n        toggle(exports.ToggleStatus.Close);\r\n    };\r\n    var onBlur = function (e) {\r\n        var shouldHideTooltip = e.relatedTarget instanceof HTMLElement &&\r\n            e.currentTarget.parentElement &&\r\n            e.currentTarget.parentElement.contains(e.relatedTarget);\r\n        if (shouldHideTooltip) {\r\n            if (contentRef.current) {\r\n                contentRef.current.style.display = 'none';\r\n            }\r\n        }\r\n        else {\r\n            close();\r\n        }\r\n    };\r\n    return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        React__namespace.createElement(\"div\", { ref: targetRef, \"aria-describedby\": \"rpv-core__tooltip-body-\".concat(controlsSuffix), onBlur: onBlur, onFocus: open, onMouseEnter: open, onMouseLeave: close }, target),\r\n        opened && (React__namespace.createElement(TooltipBody, { ariaControlsSuffix: controlsSuffix, contentRef: contentRef, offset: offset, position: position, targetRef: targetRef }, content()))));\r\n};\r\n\r\nfunction createStore(initialState) {\r\n    var state = initialState || {};\r\n    var listeners = {};\r\n    var update = function (key, data) {\r\n        var _a;\r\n        state = __assign(__assign({}, state), (_a = {}, _a[key] = data, _a));\r\n        (listeners[key] || []).forEach(function (handler) { return handler(state[key]); });\r\n    };\r\n    var get = function (key) { return state[key]; };\r\n    return {\r\n        subscribe: function (key, handler) {\r\n            listeners[key] = (listeners[key] || []).concat(handler);\r\n        },\r\n        unsubscribe: function (key, handler) {\r\n            listeners[key] = (listeners[key] || []).filter(function (f) { return f !== handler; });\r\n        },\r\n        update: function (key, data) {\r\n            update(key, data);\r\n        },\r\n        updateCurrentValue: function (key, updater) {\r\n            var currentValue = get(key);\r\n            if (currentValue !== undefined) {\r\n                update(key, updater(currentValue));\r\n            }\r\n        },\r\n        get: function (key) {\r\n            return get(key);\r\n        },\r\n    };\r\n}\r\n\r\nexports.FullScreenMode = void 0;\r\n(function (FullScreenMode) {\r\n    FullScreenMode[\"Normal\"] = \"Normal\";\r\n    FullScreenMode[\"Entering\"] = \"Entering\";\r\n    FullScreenMode[\"Entered\"] = \"Entered\";\r\n    FullScreenMode[\"EnteredCompletely\"] = \"EnteredCompletely\";\r\n    FullScreenMode[\"Exitting\"] = \"Exitting\";\r\n    FullScreenMode[\"Exited\"] = \"Exited\";\r\n})(exports.FullScreenMode || (exports.FullScreenMode = {}));\r\n\r\nexports.LayerRenderStatus = void 0;\r\n(function (LayerRenderStatus) {\r\n    LayerRenderStatus[LayerRenderStatus[\"PreRender\"] = 0] = \"PreRender\";\r\n    LayerRenderStatus[LayerRenderStatus[\"DidRender\"] = 1] = \"DidRender\";\r\n})(exports.LayerRenderStatus || (exports.LayerRenderStatus = {}));\r\n\r\nexports.PageMode = void 0;\r\n(function (PageMode) {\r\n    PageMode[\"Attachments\"] = \"UseAttachments\";\r\n    PageMode[\"Bookmarks\"] = \"UseOutlines\";\r\n    PageMode[\"ContentGroup\"] = \"UseOC\";\r\n    PageMode[\"Default\"] = \"UserNone\";\r\n    PageMode[\"FullScreen\"] = \"FullScreen\";\r\n    PageMode[\"Thumbnails\"] = \"UseThumbs\";\r\n})(exports.PageMode || (exports.PageMode = {}));\r\n\r\nexports.PasswordStatus = void 0;\r\n(function (PasswordStatus) {\r\n    PasswordStatus[\"RequiredPassword\"] = \"RequiredPassword\";\r\n    PasswordStatus[\"WrongPassword\"] = \"WrongPassword\";\r\n})(exports.PasswordStatus || (exports.PasswordStatus = {}));\r\n\r\nexports.RotateDirection = void 0;\r\n(function (RotateDirection) {\r\n    RotateDirection[\"Backward\"] = \"Backward\";\r\n    RotateDirection[\"Forward\"] = \"Forward\";\r\n})(exports.RotateDirection || (exports.RotateDirection = {}));\r\n\r\nexports.ScrollMode = void 0;\r\n(function (ScrollMode) {\r\n    ScrollMode[\"Page\"] = \"Page\";\r\n    ScrollMode[\"Horizontal\"] = \"Horizontal\";\r\n    ScrollMode[\"Vertical\"] = \"Vertical\";\r\n    ScrollMode[\"Wrapped\"] = \"Wrapped\";\r\n})(exports.ScrollMode || (exports.ScrollMode = {}));\r\n\r\nexports.SpecialZoomLevel = void 0;\r\n(function (SpecialZoomLevel) {\r\n    SpecialZoomLevel[\"ActualSize\"] = \"ActualSize\";\r\n    SpecialZoomLevel[\"PageFit\"] = \"PageFit\";\r\n    SpecialZoomLevel[\"PageWidth\"] = \"PageWidth\";\r\n})(exports.SpecialZoomLevel || (exports.SpecialZoomLevel = {}));\r\n\r\nexports.ViewMode = void 0;\r\n(function (ViewMode) {\r\n    ViewMode[\"DualPage\"] = \"DualPage\";\r\n    ViewMode[\"DualPageWithCover\"] = \"DualPageWithCover\";\r\n    ViewMode[\"SinglePage\"] = \"SinglePage\";\r\n})(exports.ViewMode || (exports.ViewMode = {}));\r\n\r\nvar chunk = function (arr, size) {\r\n    return arr.reduce(function (acc, e, i) { return (i % size ? acc[acc.length - 1].push(e) : acc.push([e]), acc); }, []);\r\n};\r\n\r\nvar isMac = function () { return (typeof window !== 'undefined' ? /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform) : false); };\r\n\r\nvar normalizeDestination = function (pageIndex, destArray) {\r\n    switch (destArray[1].name) {\r\n        case 'XYZ':\r\n            return {\r\n                bottomOffset: function (_, viewportHeight) {\r\n                    return destArray[3] === null ? viewportHeight : destArray[3];\r\n                },\r\n                leftOffset: function (_, __) { return (destArray[2] === null ? 0 : destArray[2]); },\r\n                pageIndex: pageIndex,\r\n                scaleTo: destArray[4],\r\n            };\r\n        case 'Fit':\r\n        case 'FitB':\r\n            return {\r\n                bottomOffset: 0,\r\n                leftOffset: 0,\r\n                pageIndex: pageIndex,\r\n                scaleTo: exports.SpecialZoomLevel.PageFit,\r\n            };\r\n        case 'FitH':\r\n        case 'FitBH':\r\n            return {\r\n                bottomOffset: destArray[2],\r\n                leftOffset: 0,\r\n                pageIndex: pageIndex,\r\n                scaleTo: exports.SpecialZoomLevel.PageWidth,\r\n            };\r\n        default:\r\n            return {\r\n                bottomOffset: 0,\r\n                leftOffset: 0,\r\n                pageIndex: pageIndex,\r\n                scaleTo: 1,\r\n            };\r\n    }\r\n};\r\nvar pageOutlinesMap = new Map();\r\nvar pagesMap = new Map();\r\nvar generateRefKey = function (doc, outline) {\r\n    return \"\".concat(doc.loadingTask.docId, \"___\").concat(outline.num, \"R\").concat(outline.gen === 0 ? '' : outline.gen);\r\n};\r\nvar getPageIndex = function (doc, outline) {\r\n    var key = generateRefKey(doc, outline);\r\n    return pageOutlinesMap.has(key) ? pageOutlinesMap.get(key) : null;\r\n};\r\nvar cacheOutlineRef = function (doc, outline, pageIndex) {\r\n    pageOutlinesMap.set(generateRefKey(doc, outline), pageIndex);\r\n};\r\nvar clearPagesCache = function () {\r\n    pageOutlinesMap.clear();\r\n    pagesMap.clear();\r\n};\r\nvar getPage = function (doc, pageIndex) {\r\n    if (!doc) {\r\n        return Promise.reject('The document is not loaded yet');\r\n    }\r\n    var pageKey = \"\".concat(doc.loadingTask.docId, \"___\").concat(pageIndex);\r\n    var page = pagesMap.get(pageKey);\r\n    if (page) {\r\n        return Promise.resolve(page);\r\n    }\r\n    return new Promise(function (resolve, _) {\r\n        doc.getPage(pageIndex + 1).then(function (page) {\r\n            pagesMap.set(pageKey, page);\r\n            if (page.ref) {\r\n                cacheOutlineRef(doc, page.ref, pageIndex);\r\n            }\r\n            resolve(page);\r\n        });\r\n    });\r\n};\r\nvar getDestination = function (doc, dest) {\r\n    return new Promise(function (res) {\r\n        new Promise(function (resolve) {\r\n            if (typeof dest === 'string') {\r\n                doc.getDestination(dest).then(function (destArray) {\r\n                    resolve(destArray);\r\n                });\r\n            }\r\n            else {\r\n                resolve(dest);\r\n            }\r\n        }).then(function (destArray) {\r\n            if ('object' === typeof destArray[0] && destArray[0] !== null) {\r\n                var outlineRef_1 = destArray[0];\r\n                var pageIndex = getPageIndex(doc, outlineRef_1);\r\n                if (pageIndex === null) {\r\n                    doc.getPageIndex(outlineRef_1).then(function (pageIndex) {\r\n                        cacheOutlineRef(doc, outlineRef_1, pageIndex);\r\n                        getDestination(doc, dest).then(function (result) { return res(result); });\r\n                    });\r\n                }\r\n                else {\r\n                    res(normalizeDestination(pageIndex, destArray));\r\n                }\r\n            }\r\n            else {\r\n                var target = normalizeDestination(destArray[0], destArray);\r\n                res(target);\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nvar useRunOnce = function (cb, condition) {\r\n    var isCalledRef = React__namespace.useRef(false);\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (condition && !isCalledRef.current) {\r\n            isCalledRef.current = true;\r\n            cb();\r\n        }\r\n    }, [cb, condition]);\r\n};\r\n\r\nvar useTrackResize = function (_a) {\r\n    var targetRef = _a.targetRef, onResize = _a.onResize;\r\n    useIsomorphicLayoutEffect(function () {\r\n        var io = new ResizeObserver(function (entries) {\r\n            entries.forEach(function (entry) {\r\n                onResize(entry.target);\r\n            });\r\n        });\r\n        var container = targetRef.current;\r\n        if (!container) {\r\n            return;\r\n        }\r\n        io.observe(container);\r\n        return function () {\r\n            io.unobserve(container);\r\n        };\r\n    }, []);\r\n};\r\n\r\nvar AnnotationBorderStyleType;\r\n(function (AnnotationBorderStyleType) {\r\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Solid\"] = 1] = \"Solid\";\r\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Dashed\"] = 2] = \"Dashed\";\r\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Beveled\"] = 3] = \"Beveled\";\r\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Inset\"] = 4] = \"Inset\";\r\n    AnnotationBorderStyleType[AnnotationBorderStyleType[\"Underline\"] = 5] = \"Underline\";\r\n})(AnnotationBorderStyleType || (AnnotationBorderStyleType = {}));\r\n\r\nvar dateRegex = new RegExp('^D:' +\r\n    '(\\\\d{4})' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '([Z|+|-])?' +\r\n    '(\\\\d{2})?' +\r\n    \"'?\" +\r\n    '(\\\\d{2})?' +\r\n    \"'?\");\r\nvar parse = function (value, min, max, defaultValue) {\r\n    var parsed = parseInt(value, 10);\r\n    return parsed >= min && parsed <= max ? parsed : defaultValue;\r\n};\r\nvar convertDate = function (input) {\r\n    var matches = dateRegex.exec(input);\r\n    if (!matches) {\r\n        return null;\r\n    }\r\n    var year = parseInt(matches[1], 10);\r\n    var month = parse(matches[2], 1, 12, 1) - 1;\r\n    var day = parse(matches[3], 1, 31, 1);\r\n    var hour = parse(matches[4], 0, 23, 0);\r\n    var minute = parse(matches[5], 0, 59, 0);\r\n    var second = parse(matches[6], 0, 59, 0);\r\n    var universalTimeRelation = matches[7] || 'Z';\r\n    var offsetHour = parse(matches[8], 0, 23, 0);\r\n    var offsetMinute = parse(matches[9], 0, 59, 0);\r\n    switch (universalTimeRelation) {\r\n        case '-':\r\n            hour += offsetHour;\r\n            minute += offsetMinute;\r\n            break;\r\n        case '+':\r\n            hour -= offsetHour;\r\n            minute -= offsetMinute;\r\n            break;\r\n    }\r\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\r\n};\r\n\r\nvar getContents = function (annotation) {\r\n    return annotation.contentsObj ? annotation.contentsObj.str : annotation.contents || '';\r\n};\r\n\r\nvar getTitle = function (annotation) {\r\n    return annotation.titleObj ? annotation.titleObj.str : annotation.title || '';\r\n};\r\n\r\nvar PopupWrapper = function (_a) {\r\n    var annotation = _a.annotation;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var containerRef = React__namespace.useRef();\r\n    var dateStr = '';\r\n    if (annotation.modificationDate) {\r\n        var date = convertDate(annotation.modificationDate);\r\n        dateStr = date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\r\n    }\r\n    React__namespace.useLayoutEffect(function () {\r\n        var containerEle = containerRef.current;\r\n        if (!containerEle) {\r\n            return;\r\n        }\r\n        var annotationEle = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\r\n        if (!annotationEle) {\r\n            return;\r\n        }\r\n        var ele = annotationEle;\r\n        ele.style.zIndex += 1;\r\n        return function () {\r\n            ele.style.zIndex = \"\".concat(parseInt(ele.style.zIndex, 10) - 1);\r\n        };\r\n    }, []);\r\n    return (React__namespace.createElement(\"div\", { ref: containerRef, className: classNames({\r\n            'rpv-core__annotation-popup-wrapper': true,\r\n            'rpv-core__annotation-popup-wrapper--rtl': isRtl,\r\n        }), style: {\r\n            top: annotation.annotationType === exports.AnnotationType.Popup ? '' : '100%',\r\n        } },\r\n        title && (React__namespace.createElement(React__namespace.Fragment, null,\r\n            React__namespace.createElement(\"div\", { className: classNames({\r\n                    'rpv-core__annotation-popup-title': true,\r\n                    'rpv-core__annotation-popup-title--ltr': !isRtl,\r\n                    'rpv-core__annotation-popup-title--rtl': isRtl,\r\n                }) }, title),\r\n            React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-popup-date\" }, dateStr))),\r\n        contents && (React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-popup-content\" }, contents.split('\\n').map(function (item, index) { return (React__namespace.createElement(React__namespace.Fragment, { key: index },\r\n            item,\r\n            React__namespace.createElement(\"br\", null))); })))));\r\n};\r\n\r\nvar TogglePopupBy;\r\n(function (TogglePopupBy) {\r\n    TogglePopupBy[\"Click\"] = \"Click\";\r\n    TogglePopupBy[\"Hover\"] = \"Hover\";\r\n})(TogglePopupBy || (TogglePopupBy = {}));\r\nvar useTogglePopup = function () {\r\n    var _a = useToggle(false), opened = _a.opened, toggle = _a.toggle;\r\n    var _b = React__namespace.useState(TogglePopupBy.Hover), togglePopupBy = _b[0], setTooglePopupBy = _b[1];\r\n    var toggleOnClick = function () {\r\n        switch (togglePopupBy) {\r\n            case TogglePopupBy.Click:\r\n                opened && setTooglePopupBy(TogglePopupBy.Hover);\r\n                toggle(exports.ToggleStatus.Toggle);\r\n                break;\r\n            case TogglePopupBy.Hover:\r\n                setTooglePopupBy(TogglePopupBy.Click);\r\n                toggle(exports.ToggleStatus.Open);\r\n                break;\r\n        }\r\n    };\r\n    var openOnHover = function () {\r\n        togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Open);\r\n    };\r\n    var closeOnHover = function () {\r\n        togglePopupBy === TogglePopupBy.Hover && toggle(exports.ToggleStatus.Close);\r\n    };\r\n    return {\r\n        opened: opened,\r\n        closeOnHover: closeOnHover,\r\n        openOnHover: openOnHover,\r\n        toggleOnClick: toggleOnClick,\r\n    };\r\n};\r\n\r\nvar Annotation = function (_a) {\r\n    var annotation = _a.annotation, children = _a.children, ignoreBorder = _a.ignoreBorder, hasPopup = _a.hasPopup, isRenderable = _a.isRenderable, page = _a.page, viewport = _a.viewport;\r\n    var rect = annotation.rect;\r\n    var _b = useTogglePopup(), closeOnHover = _b.closeOnHover, opened = _b.opened, openOnHover = _b.openOnHover, toggleOnClick = _b.toggleOnClick;\r\n    var normalizeRect = function (r) { return [\r\n        Math.min(r[0], r[2]),\r\n        Math.min(r[1], r[3]),\r\n        Math.max(r[0], r[2]),\r\n        Math.max(r[1], r[3]),\r\n    ]; };\r\n    var bound = normalizeRect([\r\n        rect[0],\r\n        page.view[3] + page.view[1] - rect[1],\r\n        rect[2],\r\n        page.view[3] + page.view[1] - rect[3],\r\n    ]);\r\n    var width = rect[2] - rect[0];\r\n    var height = rect[3] - rect[1];\r\n    var styles = {\r\n        borderColor: '',\r\n        borderRadius: '',\r\n        borderStyle: '',\r\n        borderWidth: '',\r\n    };\r\n    if (!ignoreBorder && annotation.borderStyle.width > 0) {\r\n        switch (annotation.borderStyle.style) {\r\n            case AnnotationBorderStyleType.Dashed:\r\n                styles.borderStyle = 'dashed';\r\n                break;\r\n            case AnnotationBorderStyleType.Solid:\r\n                styles.borderStyle = 'solid';\r\n                break;\r\n            case AnnotationBorderStyleType.Underline:\r\n                styles = Object.assign({\r\n                    borderBottomStyle: 'solid',\r\n                }, styles);\r\n                break;\r\n            case AnnotationBorderStyleType.Beveled:\r\n            case AnnotationBorderStyleType.Inset:\r\n        }\r\n        var borderWidth = annotation.borderStyle.width;\r\n        styles.borderWidth = \"\".concat(borderWidth, \"px\");\r\n        if (annotation.borderStyle.style !== AnnotationBorderStyleType.Underline) {\r\n            width = width - 2 * borderWidth;\r\n            height = height - 2 * borderWidth;\r\n        }\r\n        var _c = annotation.borderStyle, horizontalCornerRadius = _c.horizontalCornerRadius, verticalCornerRadius = _c.verticalCornerRadius;\r\n        if (horizontalCornerRadius > 0 || verticalCornerRadius > 0) {\r\n            styles.borderRadius = \"\".concat(horizontalCornerRadius, \"px / \").concat(verticalCornerRadius, \"px\");\r\n        }\r\n        annotation.color\r\n            ? (styles.borderColor = \"rgb(\".concat(annotation.color[0] | 0, \", \").concat(annotation.color[1] | 0, \", \").concat(annotation.color[2] | 0, \")\"))\r\n            :\r\n                (styles.borderWidth = '0');\r\n    }\r\n    return (React__namespace.createElement(React__namespace.Fragment, null, isRenderable &&\r\n        children({\r\n            popup: {\r\n                opened: opened,\r\n                closeOnHover: closeOnHover,\r\n                openOnHover: openOnHover,\r\n                toggleOnClick: toggleOnClick,\r\n            },\r\n            slot: {\r\n                attrs: {\r\n                    style: Object.assign({\r\n                        height: \"\".concat(height, \"px\"),\r\n                        left: \"\".concat(bound[0], \"px\"),\r\n                        top: \"\".concat(bound[1], \"px\"),\r\n                        transform: \"matrix(\".concat(viewport.transform.join(','), \")\"),\r\n                        transformOrigin: \"-\".concat(bound[0], \"px -\").concat(bound[1], \"px\"),\r\n                        width: \"\".concat(width, \"px\"),\r\n                    }, styles),\r\n                },\r\n                children: React__namespace.createElement(React__namespace.Fragment, null, hasPopup && opened && React__namespace.createElement(PopupWrapper, { annotation: annotation })),\r\n            },\r\n        })));\r\n};\r\n\r\nvar Caret = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--caret\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\r\n};\r\n\r\nvar Circle = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var rect = annotation.rect;\r\n    var width = rect[2] - rect[0];\r\n    var height = rect[3] - rect[1];\r\n    var borderWidth = annotation.borderStyle.width;\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--circle\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\r\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\r\n            React__namespace.createElement(\"circle\", { cy: height / 2, fill: \"none\", rx: width / 2 - borderWidth / 2, ry: height / 2 - borderWidth / 2, stroke: \"transparent\", strokeWidth: borderWidth || 1 })),\r\n        props.slot.children)); }));\r\n};\r\n\r\nvar getFileName = function (url) {\r\n    var str = url.split('/').pop();\r\n    return str ? str.split('#')[0].split('?')[0] : url;\r\n};\r\n\r\nvar downloadFile = function (url, data) {\r\n    var blobUrl = typeof data === 'string' ? '' : URL.createObjectURL(new Blob([data], { type: '' }));\r\n    var link = document.createElement('a');\r\n    link.style.display = 'none';\r\n    link.href = blobUrl || url;\r\n    link.setAttribute('download', getFileName(url));\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    if (blobUrl) {\r\n        URL.revokeObjectURL(blobUrl);\r\n    }\r\n};\r\n\r\nvar FileAttachment = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var hasPopup = annotation.hasPopup === false && (!!title || !!contents);\r\n    var doubleClick = function () {\r\n        var file = annotation.file;\r\n        file && downloadFile(file.filename, file.content);\r\n    };\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: true, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--file-attachment\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onDoubleClick: doubleClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\r\n};\r\n\r\nvar FreeText = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--free-text\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\r\n};\r\n\r\nvar Popup = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(title || contents);\r\n    var ignoredParents = ['Circle', 'Ink', 'Line', 'Polygon', 'PolyLine', 'Square'];\r\n    var hasPopup = !annotation.parentType || ignoredParents.indexOf(annotation.parentType) !== -1;\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (!annotation.parentId) {\r\n            return;\r\n        }\r\n        var parent = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.parentId, \"\\\"]\"));\r\n        var container = document.querySelector(\"[data-annotation-id=\\\"\".concat(annotation.id, \"\\\"]\"));\r\n        if (!parent || !container) {\r\n            return;\r\n        }\r\n        var left = parseFloat(parent.style.left);\r\n        var top = parseFloat(parent.style.top) + parseFloat(parent.style.height);\r\n        container.style.left = \"\".concat(left, \"px\");\r\n        container.style.top = \"\".concat(top, \"px\");\r\n        container.style.transformOrigin = \"-\".concat(left, \"px -\").concat(top, \"px\");\r\n    }, []);\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--popup\", \"data-annotation-id\": annotation.id }),\r\n        React__namespace.createElement(PopupWrapper, { annotation: annotation }))); }));\r\n};\r\n\r\nvar Highlight = function (_a) {\r\n    var annotation = _a.annotation, childAnnotation = _a.childAnnotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var hasQuadPoints = annotation.quadPoints && annotation.quadPoints.length > 0;\r\n    if (hasQuadPoints) {\r\n        var annotations = annotation.quadPoints.map(function (quadPoint) {\r\n            return Object.assign({}, annotation, {\r\n                rect: [quadPoint[2].x, quadPoint[2].y, quadPoint[1].x, quadPoint[1].y],\r\n                quadPoints: [],\r\n            });\r\n        });\r\n        return (React__namespace.createElement(React__namespace.Fragment, null, annotations.map(function (ann, index) { return (React__namespace.createElement(Highlight, { key: index, annotation: ann, childAnnotation: childAnnotation, page: page, viewport: viewport })); })));\r\n    }\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--highlight\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children),\r\n        childAnnotation &&\r\n            childAnnotation.annotationType === exports.AnnotationType.Popup &&\r\n            props.popup.opened && React__namespace.createElement(Popup, { annotation: childAnnotation, page: page, viewport: viewport }))); }));\r\n};\r\n\r\nvar Ink = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var rect = annotation.rect;\r\n    var width = rect[2] - rect[0];\r\n    var height = rect[3] - rect[1];\r\n    var borderWidth = annotation.borderStyle.width;\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--ink\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\r\n        annotation.inkLists && annotation.inkLists.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") }, annotation.inkLists.map(function (inkList, index) { return (React__namespace.createElement(\"polyline\", { key: index, fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: inkList.map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); }).join(' ') })); }))),\r\n        props.slot.children)); }));\r\n};\r\n\r\nvar Line = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var rect = annotation.rect;\r\n    var width = rect[2] - rect[0];\r\n    var height = rect[3] - rect[1];\r\n    var borderWidth = annotation.borderStyle.width;\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--line\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\r\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\r\n            React__namespace.createElement(\"line\", { stroke: \"transparent\", strokeWidth: borderWidth || 1, x1: rect[2] - annotation.lineCoordinates[0], x2: rect[2] - annotation.lineCoordinates[2], y1: rect[3] - annotation.lineCoordinates[1], y2: rect[3] - annotation.lineCoordinates[3] })),\r\n        props.slot.children)); }));\r\n};\r\n\r\nvar INVALID_PROTOCOL = /^([^\\w]*)(javascript|data|vbscript)/im;\r\nvar HTML_ENTITIES = /&#(\\w+)(^\\w|;)?/g;\r\nvar CTRL_CHARS = /[\\u0000-\\u001F\\u007F-\\u009F\\u2000-\\u200D\\uFEFF]/gim;\r\nvar URL_SCHEME = /^([^:]+):/gm;\r\nvar decodeHtmlEntities = function (str) { return str.replace(HTML_ENTITIES, function (_, dec) { return String.fromCharCode(dec); }); };\r\nvar sanitizeUrl = function (url, defaultUrl) {\r\n    if (defaultUrl === void 0) { defaultUrl = 'about:blank'; }\r\n    var result = decodeHtmlEntities(url || '')\r\n        .replace(CTRL_CHARS, '')\r\n        .trim();\r\n    if (!result) {\r\n        return defaultUrl;\r\n    }\r\n    var firstChar = result[0];\r\n    if (firstChar === '.' || firstChar === '/') {\r\n        return result;\r\n    }\r\n    var parsedUrlScheme = result.match(URL_SCHEME);\r\n    if (!parsedUrlScheme) {\r\n        return result;\r\n    }\r\n    var scheme = parsedUrlScheme[0];\r\n    return INVALID_PROTOCOL.test(scheme) ? defaultUrl : result;\r\n};\r\n\r\nvar Link = function (_a) {\r\n    var _b;\r\n    var annotation = _a.annotation, annotationContainerRef = _a.annotationContainerRef, doc = _a.doc, outlines = _a.outlines, page = _a.page, pageIndex = _a.pageIndex, scale = _a.scale, viewport = _a.viewport, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpFromLinkAnnotation = _a.onJumpFromLinkAnnotation, onJumpToDest = _a.onJumpToDest;\r\n    var elementRef = React__namespace.useRef();\r\n    var title = outlines && outlines.length && annotation.dest && typeof annotation.dest === 'string'\r\n        ? (_b = outlines.find(function (item) { return item.dest === annotation.dest; })) === null || _b === void 0 ? void 0 : _b.title\r\n        : '';\r\n    var link = function (e) {\r\n        e.preventDefault();\r\n        annotation.action\r\n            ? onExecuteNamedAction(annotation.action)\r\n            : getDestination(doc, annotation.dest).then(function (target) {\r\n                var element = elementRef.current;\r\n                var annotationContainer = annotationContainerRef.current;\r\n                if (element && annotationContainer) {\r\n                    var linkRect = element.getBoundingClientRect();\r\n                    annotationContainer.style.setProperty('height', '100%');\r\n                    annotationContainer.style.setProperty('width', '100%');\r\n                    var annotationLayerRect = annotationContainer.getBoundingClientRect();\r\n                    annotationContainer.style.removeProperty('height');\r\n                    annotationContainer.style.removeProperty('width');\r\n                    var leftOffset = (linkRect.left - annotationLayerRect.left) / scale;\r\n                    var bottomOffset = (annotationLayerRect.bottom - linkRect.bottom + linkRect.height) / scale;\r\n                    onJumpFromLinkAnnotation({\r\n                        bottomOffset: bottomOffset,\r\n                        label: title,\r\n                        leftOffset: leftOffset,\r\n                        pageIndex: pageIndex,\r\n                    });\r\n                }\r\n                onJumpToDest(target);\r\n            });\r\n    };\r\n    var isRenderable = !!(annotation.url || annotation.dest || annotation.action || annotation.unsafeUrl);\r\n    var attrs = {};\r\n    if (annotation.url || annotation.unsafeUrl) {\r\n        var targetUrl = sanitizeUrl(annotation.url || annotation.unsafeUrl, '');\r\n        if (targetUrl) {\r\n            attrs = {\r\n                'data-target': 'external',\r\n                href: targetUrl,\r\n                rel: 'noopener noreferrer nofollow',\r\n                target: annotation.newWindow ? '_blank' : '',\r\n                title: targetUrl,\r\n            };\r\n        }\r\n        else {\r\n            isRenderable = false;\r\n        }\r\n    }\r\n    else {\r\n        attrs = {\r\n            href: '',\r\n            'data-annotation-link': annotation.id,\r\n            onClick: link,\r\n        };\r\n    }\r\n    if (title) {\r\n        attrs = Object.assign({}, attrs, {\r\n            title: title,\r\n            'aria-label': title,\r\n        });\r\n    }\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: false, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--link\", \"data-annotation-id\": annotation.id, \"data-testid\": \"core__annotation--link-\".concat(annotation.id) }),\r\n        React__namespace.createElement(\"a\", __assign({ ref: elementRef }, attrs)))); }));\r\n};\r\n\r\nvar Polygon = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var rect = annotation.rect;\r\n    var width = rect[2] - rect[0];\r\n    var height = rect[3] - rect[1];\r\n    var borderWidth = annotation.borderStyle.width;\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--polygon\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\r\n        annotation.vertices && annotation.vertices.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\r\n            React__namespace.createElement(\"polygon\", { fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: annotation.vertices\r\n                    .map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); })\r\n                    .join(' ') }))),\r\n        props.slot.children)); }));\r\n};\r\n\r\nvar Polyline = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var rect = annotation.rect;\r\n    var width = rect[2] - rect[0];\r\n    var height = rect[3] - rect[1];\r\n    var borderWidth = annotation.borderStyle.width;\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--polyline\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\r\n        annotation.vertices && annotation.vertices.length && (React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\r\n            React__namespace.createElement(\"polyline\", { fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, points: annotation.vertices\r\n                    .map(function (item) { return \"\".concat(item.x - rect[0], \",\").concat(rect[3] - item.y); })\r\n                    .join(' ') }))),\r\n        props.slot.children)); }));\r\n};\r\n\r\nvar Square = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var rect = annotation.rect;\r\n    var width = rect[2] - rect[0];\r\n    var height = rect[3] - rect[1];\r\n    var borderWidth = annotation.borderStyle.width;\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--square\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\r\n        React__namespace.createElement(\"svg\", { height: \"\".concat(height, \"px\"), preserveAspectRatio: \"none\", version: \"1.1\", viewBox: \"0 0 \".concat(width, \" \").concat(height), width: \"\".concat(width, \"px\") },\r\n            React__namespace.createElement(\"rect\", { height: height - borderWidth, fill: \"none\", stroke: \"transparent\", strokeWidth: borderWidth || 1, x: borderWidth / 2, y: borderWidth / 2, width: width - borderWidth })),\r\n        props.slot.children)); }));\r\n};\r\n\r\nvar Squiggly = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--squiggly\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\r\n};\r\n\r\nvar Stamp = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--stamp\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\r\n};\r\n\r\nvar StrikeOut = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--strike-out\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\r\n};\r\n\r\nvar CommentIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25\" }))); };\r\n\r\nvar HelpIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M21.423 5.406L17.415 9.414\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M14.587 6.585L18.607 2.565\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M5.405 21.424L9.413 17.416\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M6.585 14.588L2.577 18.596\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M18.602 21.419L14.595 17.412\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M17.419 14.58L21.428 18.589\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M2.582 5.399L6.588 9.406\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M9.421 6.581L5.412 2.572\" }))); };\r\n\r\nvar KeyIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z\" }))); };\r\n\r\nvar NoteIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M6 4.5L6 0.5\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M18 4.5L18 0.5\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M10 4.5L10 0.5\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M14 4.5L14 0.5\" }))); };\r\n\r\nvar ParagraphIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M17.5 0.498L17.5 23.498\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M10.5 0.498L10.5 23.498\" }),\r\n    React__namespace.createElement(\"path\", { d: \"M23.5.5H6.5a6,6,0,0,0,0,12h4\" }))); };\r\n\r\nvar TriangleIcon = function () { return (React__namespace.createElement(Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z\" }))); };\r\n\r\nvar Text = function (_a) {\r\n    var annotation = _a.annotation, childAnnotation = _a.childAnnotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    var name = annotation.name ? annotation.name.toLowerCase() : '';\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: false, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--text\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }),\r\n            name && (React__namespace.createElement(\"div\", { className: \"rpv-core__annotation-text-icon\" },\r\n                name === 'check' && React__namespace.createElement(CheckIcon, null),\r\n                name === 'comment' && React__namespace.createElement(CommentIcon, null),\r\n                name === 'help' && React__namespace.createElement(HelpIcon, null),\r\n                name === 'insert' && React__namespace.createElement(TriangleIcon, null),\r\n                name === 'key' && React__namespace.createElement(KeyIcon, null),\r\n                name === 'note' && React__namespace.createElement(NoteIcon, null),\r\n                (name === 'newparagraph' || name === 'paragraph') && React__namespace.createElement(ParagraphIcon, null))),\r\n            props.slot.children),\r\n        childAnnotation &&\r\n            childAnnotation.annotationType === exports.AnnotationType.Popup &&\r\n            props.popup.opened && React__namespace.createElement(Popup, { annotation: childAnnotation, page: page, viewport: viewport }))); }));\r\n};\r\n\r\nvar Underline = function (_a) {\r\n    var annotation = _a.annotation, page = _a.page, viewport = _a.viewport;\r\n    var hasPopup = annotation.hasPopup === false;\r\n    var title = getTitle(annotation);\r\n    var contents = getContents(annotation);\r\n    var isRenderable = !!(annotation.hasPopup || title || contents);\r\n    return (React__namespace.createElement(Annotation, { annotation: annotation, hasPopup: hasPopup, ignoreBorder: true, isRenderable: isRenderable, page: page, viewport: viewport }, function (props) { return (React__namespace.createElement(\"div\", __assign({}, props.slot.attrs, { className: \"rpv-core__annotation rpv-core__annotation--underline\", \"data-annotation-id\": annotation.id, onClick: props.popup.toggleOnClick, onMouseEnter: props.popup.openOnHover, onMouseLeave: props.popup.closeOnHover }), props.slot.children)); }));\r\n};\r\n\r\nvar AnnotationLayerBody = function (_a) {\r\n    var annotations = _a.annotations, doc = _a.doc, outlines = _a.outlines, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpFromLinkAnnotation = _a.onJumpFromLinkAnnotation, onJumpToDest = _a.onJumpToDest;\r\n    var containerRef = React__namespace.useRef();\r\n    var viewport = page.getViewport({ rotation: rotation, scale: scale });\r\n    var clonedViewPort = viewport.clone({ dontFlip: true });\r\n    var filterAnnotations = annotations.filter(function (annotation) { return !annotation.parentId; });\r\n    useIsomorphicLayoutEffect(function () {\r\n        var container = containerRef.current;\r\n        if (!container) {\r\n            return;\r\n        }\r\n        plugins.forEach(function (plugin) {\r\n            if (plugin.onAnnotationLayerRender) {\r\n                plugin.onAnnotationLayerRender({\r\n                    annotations: filterAnnotations,\r\n                    container: container,\r\n                    pageIndex: pageIndex,\r\n                    rotation: rotation,\r\n                    scale: scale,\r\n                });\r\n            }\r\n        });\r\n    }, []);\r\n    return (React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-core__annotation-layer\", \"data-testid\": \"core__annotation-layer-\".concat(pageIndex) }, filterAnnotations.map(function (annotation) {\r\n        var childAnnotation = annotations.find(function (item) { return item.parentId === annotation.id; });\r\n        switch (annotation.annotationType) {\r\n            case exports.AnnotationType.Caret:\r\n                return (React__namespace.createElement(Caret, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Circle:\r\n                return (React__namespace.createElement(Circle, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.FileAttachment:\r\n                return (React__namespace.createElement(FileAttachment, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.FreeText:\r\n                return (React__namespace.createElement(FreeText, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Highlight:\r\n                return (React__namespace.createElement(Highlight, { key: annotation.id, annotation: annotation, childAnnotation: childAnnotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Ink:\r\n                return (React__namespace.createElement(Ink, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Line:\r\n                return (React__namespace.createElement(Line, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Link:\r\n                return (React__namespace.createElement(Link, { key: annotation.id, annotation: annotation, annotationContainerRef: containerRef, doc: doc, outlines: outlines, page: page, pageIndex: pageIndex, scale: scale, viewport: clonedViewPort, onExecuteNamedAction: onExecuteNamedAction, onJumpFromLinkAnnotation: onJumpFromLinkAnnotation, onJumpToDest: onJumpToDest }));\r\n            case exports.AnnotationType.Polygon:\r\n                return (React__namespace.createElement(Polygon, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Polyline:\r\n                return (React__namespace.createElement(Polyline, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Popup:\r\n                return (React__namespace.createElement(Popup, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Square:\r\n                return (React__namespace.createElement(Square, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Squiggly:\r\n                return (React__namespace.createElement(Squiggly, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Stamp:\r\n                return (React__namespace.createElement(Stamp, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.StrikeOut:\r\n                return (React__namespace.createElement(StrikeOut, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Text:\r\n                return (React__namespace.createElement(Text, { key: annotation.id, annotation: annotation, childAnnotation: childAnnotation, page: page, viewport: clonedViewPort }));\r\n            case exports.AnnotationType.Underline:\r\n                return (React__namespace.createElement(Underline, { key: annotation.id, annotation: annotation, page: page, viewport: clonedViewPort }));\r\n            default:\r\n                return React__namespace.createElement(React__namespace.Fragment, { key: annotation.id });\r\n        }\r\n    })));\r\n};\r\n\r\nvar AnnotationLoader = function (_a) {\r\n    var page = _a.page, renderAnnotations = _a.renderAnnotations;\r\n    var isMounted = useIsMounted();\r\n    var _b = React__namespace.useState({\r\n        loading: true,\r\n        annotations: [],\r\n    }), status = _b[0], setStatus = _b[1];\r\n    React__namespace.useEffect(function () {\r\n        page.getAnnotations({ intent: 'display' }).then(function (result) {\r\n            if (isMounted.current) {\r\n                setStatus({\r\n                    loading: false,\r\n                    annotations: result,\r\n                });\r\n            }\r\n        });\r\n    }, []);\r\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : renderAnnotations(status.annotations);\r\n};\r\n\r\nvar AnnotationLayer = function (_a) {\r\n    var doc = _a.doc, outlines = _a.outlines, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpFromLinkAnnotation = _a.onJumpFromLinkAnnotation, onJumpToDest = _a.onJumpToDest;\r\n    var renderAnnotations = function (annotations) { return (React__namespace.createElement(AnnotationLayerBody, { annotations: annotations, doc: doc, outlines: outlines, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotation, scale: scale, onExecuteNamedAction: onExecuteNamedAction, onJumpFromLinkAnnotation: onJumpFromLinkAnnotation, onJumpToDest: onJumpToDest })); };\r\n    return React__namespace.createElement(AnnotationLoader, { page: page, renderAnnotations: renderAnnotations });\r\n};\r\n\r\nvar floatToRatio = function (x, limit) {\r\n    var _a, _b;\r\n    if (Math.floor(x) === x) {\r\n        return [x, 1];\r\n    }\r\n    var y = 1 / x;\r\n    if (y > limit) {\r\n        return [1, limit];\r\n    }\r\n    if (Math.floor(y) === y) {\r\n        return [1, y];\r\n    }\r\n    var value = x > 1 ? y : x;\r\n    var a = 0;\r\n    var b = 1;\r\n    var c = 1;\r\n    var d = 1;\r\n    while (true) {\r\n        var numerator = a + c;\r\n        var denominator = b + d;\r\n        if (denominator > limit) {\r\n            break;\r\n        }\r\n        value <= numerator / denominator ? (_a = [numerator, denominator], c = _a[0], d = _a[1], _a) : (_b = [numerator, denominator], a = _b[0], b = _b[1], _b);\r\n    }\r\n    var middle = (a / b + c / d) / 2;\r\n    return value < middle ? (value === x ? [a, b] : [b, a]) : value === x ? [c, d] : [d, c];\r\n};\r\n\r\nvar roundToDivide = function (a, b) {\r\n    var remainder = a % b;\r\n    return remainder === 0 ? a : Math.floor(a - remainder);\r\n};\r\n\r\nvar MAX_CANVAS_SIZE = 4096 * 4096;\r\nvar CanvasLayer = function (_a) {\r\n    var canvasLayerRef = _a.canvasLayerRef, height = _a.height, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, width = _a.width, onRenderCanvasCompleted = _a.onRenderCanvasCompleted;\r\n    var renderTask = React__namespace.useRef();\r\n    useIsomorphicLayoutEffect(function () {\r\n        var task = renderTask.current;\r\n        if (task) {\r\n            task.cancel();\r\n        }\r\n        var canvasEle = canvasLayerRef.current;\r\n        canvasEle.removeAttribute('data-testid');\r\n        plugins.forEach(function (plugin) {\r\n            if (plugin.onCanvasLayerRender) {\r\n                plugin.onCanvasLayerRender({\r\n                    ele: canvasEle,\r\n                    pageIndex: pageIndex,\r\n                    rotation: rotation,\r\n                    scale: scale,\r\n                    status: exports.LayerRenderStatus.PreRender,\r\n                });\r\n            }\r\n        });\r\n        var viewport = page.getViewport({\r\n            rotation: rotation,\r\n            scale: scale,\r\n        });\r\n        var outputScale = window.devicePixelRatio || 1;\r\n        var maxScale = Math.sqrt(MAX_CANVAS_SIZE / (viewport.width * viewport.height));\r\n        var shouldScaleByCSS = outputScale > maxScale;\r\n        shouldScaleByCSS ? (canvasEle.style.transform = \"scale(1, 1)\") : canvasEle.style.removeProperty('transform');\r\n        var possibleScale = Math.min(maxScale, outputScale);\r\n        var _a = floatToRatio(possibleScale, 8), x = _a[0], y = _a[1];\r\n        canvasEle.width = roundToDivide(viewport.width * possibleScale, x);\r\n        canvasEle.height = roundToDivide(viewport.height * possibleScale, x);\r\n        canvasEle.style.width = \"\".concat(roundToDivide(viewport.width, y), \"px\");\r\n        canvasEle.style.height = \"\".concat(roundToDivide(viewport.height, y), \"px\");\r\n        canvasEle.hidden = true;\r\n        var canvasContext = canvasEle.getContext('2d', { alpha: false });\r\n        var transform = shouldScaleByCSS || outputScale !== 1 ? [possibleScale, 0, 0, possibleScale, 0, 0] : null;\r\n        renderTask.current = page.render({ canvasContext: canvasContext, transform: transform, viewport: viewport });\r\n        renderTask.current.promise.then(function () {\r\n            canvasEle.hidden = false;\r\n            canvasEle.setAttribute('data-testid', \"core__canvas-layer-\".concat(pageIndex));\r\n            plugins.forEach(function (plugin) {\r\n                if (plugin.onCanvasLayerRender) {\r\n                    plugin.onCanvasLayerRender({\r\n                        ele: canvasEle,\r\n                        pageIndex: pageIndex,\r\n                        rotation: rotation,\r\n                        scale: scale,\r\n                        status: exports.LayerRenderStatus.DidRender,\r\n                    });\r\n                }\r\n            });\r\n            onRenderCanvasCompleted();\r\n        }, function () {\r\n            onRenderCanvasCompleted();\r\n        });\r\n        return function () {\r\n            if (canvasEle) {\r\n                canvasEle.width = 0;\r\n                canvasEle.height = 0;\r\n            }\r\n        };\r\n    }, []);\r\n    return (React__namespace.createElement(\"div\", { className: \"rpv-core__canvas-layer\", style: {\r\n            height: \"\".concat(height, \"px\"),\r\n            width: \"\".concat(width, \"px\"),\r\n        } },\r\n        React__namespace.createElement(\"canvas\", { ref: canvasLayerRef })));\r\n};\r\n\r\nvar SvgLayer = function (_a) {\r\n    var height = _a.height, page = _a.page, rotation = _a.rotation, scale = _a.scale, width = _a.width;\r\n    var containerRef = React__namespace.useRef();\r\n    var empty = function () {\r\n        var containerEle = containerRef.current;\r\n        if (!containerEle) {\r\n            return;\r\n        }\r\n        containerEle.innerHTML = '';\r\n    };\r\n    useIsomorphicLayoutEffect(function () {\r\n        var containerEle = containerRef.current;\r\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\r\n        page.getOperatorList().then(function (operatorList) {\r\n            empty();\r\n            var graphic = new PdfJsApi__namespace.SVGGraphics(page.commonObjs, page.objs);\r\n            graphic.getSVG(operatorList, viewport).then(function (svg) {\r\n                svg.style.height = \"\".concat(height, \"px\");\r\n                svg.style.width = \"\".concat(width, \"px\");\r\n                containerEle.appendChild(svg);\r\n            });\r\n        });\r\n    }, []);\r\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__svg-layer\", ref: containerRef });\r\n};\r\n\r\nvar TextLayer = function (_a) {\r\n    var containerRef = _a.containerRef, page = _a.page, pageIndex = _a.pageIndex, plugins = _a.plugins, rotation = _a.rotation, scale = _a.scale, onRenderTextCompleted = _a.onRenderTextCompleted;\r\n    var renderTask = React__namespace.useRef();\r\n    var empty = function () {\r\n        var containerEle = containerRef.current;\r\n        if (!containerEle) {\r\n            return;\r\n        }\r\n        var spans = [].slice.call(containerEle.querySelectorAll('.rpv-core__text-layer-text'));\r\n        spans.forEach(function (span) { return containerEle.removeChild(span); });\r\n        var breaks = [].slice.call(containerEle.querySelectorAll('br[role=\"presentation\"]'));\r\n        breaks.forEach(function (br) { return containerEle.removeChild(br); });\r\n    };\r\n    useIsomorphicLayoutEffect(function () {\r\n        var task = renderTask.current;\r\n        if (task) {\r\n            task.cancel();\r\n        }\r\n        var containerEle = containerRef.current;\r\n        if (!containerEle) {\r\n            return;\r\n        }\r\n        containerEle.removeAttribute('data-testid');\r\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\r\n        plugins.forEach(function (plugin) {\r\n            if (plugin.onTextLayerRender) {\r\n                plugin.onTextLayerRender({\r\n                    ele: containerEle,\r\n                    pageIndex: pageIndex,\r\n                    scale: scale,\r\n                    status: exports.LayerRenderStatus.PreRender,\r\n                });\r\n            }\r\n        });\r\n        page.getTextContent().then(function (textContent) {\r\n            empty();\r\n            renderTask.current = PdfJsApi__namespace.renderTextLayer({\r\n                container: containerEle,\r\n                textContent: textContent,\r\n                textContentSource: textContent,\r\n                viewport: viewport,\r\n            });\r\n            renderTask.current.promise.then(function () {\r\n                containerEle.setAttribute('data-testid', \"core__text-layer-\".concat(pageIndex));\r\n                var spans = [].slice.call(containerEle.children);\r\n                spans.forEach(function (span) {\r\n                    if (!span.classList.contains('rpv-core__text-layer-text--not')) {\r\n                        span.classList.add('rpv-core__text-layer-text');\r\n                    }\r\n                });\r\n                plugins.forEach(function (plugin) {\r\n                    if (plugin.onTextLayerRender) {\r\n                        plugin.onTextLayerRender({\r\n                            ele: containerEle,\r\n                            pageIndex: pageIndex,\r\n                            scale: scale,\r\n                            status: exports.LayerRenderStatus.DidRender,\r\n                        });\r\n                    }\r\n                });\r\n                onRenderTextCompleted();\r\n            }, function () {\r\n                containerEle.removeAttribute('data-testid');\r\n                onRenderTextCompleted();\r\n            });\r\n        });\r\n        return function () {\r\n            var _a;\r\n            empty();\r\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\r\n        };\r\n    }, []);\r\n    return React__namespace.createElement(\"div\", { className: \"rpv-core__text-layer\", ref: containerRef });\r\n};\r\n\r\nvar PageLayer = function (_a) {\r\n    var doc = _a.doc, measureRef = _a.measureRef, outlines = _a.outlines, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, pageSize = _a.pageSize, plugins = _a.plugins, renderPage = _a.renderPage, renderQueueKey = _a.renderQueueKey, rotation = _a.rotation, scale = _a.scale, shouldRender = _a.shouldRender, viewMode = _a.viewMode, onExecuteNamedAction = _a.onExecuteNamedAction, onJumpFromLinkAnnotation = _a.onJumpFromLinkAnnotation, onJumpToDest = _a.onJumpToDest, onRenderCompleted = _a.onRenderCompleted, onRotatePage = _a.onRotatePage;\r\n    var isMounted = useIsMounted();\r\n    var _b = React__namespace.useState(null), page = _b[0], setPage = _b[1];\r\n    var _c = React__namespace.useState(false), canvasLayerRendered = _c[0], setCanvasLayerRendered = _c[1];\r\n    var _d = React__namespace.useState(false), textLayerRendered = _d[0], setTextLayerRendered = _d[1];\r\n    var canvasLayerRef = React__namespace.useRef();\r\n    var textLayerRef = React__namespace.useRef();\r\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\r\n    var scaledWidth = pageSize.pageWidth * scale;\r\n    var scaledHeight = pageSize.pageHeight * scale;\r\n    var w = isVertical ? scaledWidth : scaledHeight;\r\n    var h = isVertical ? scaledHeight : scaledWidth;\r\n    var rotationValue = (pageSize.rotation + rotation + pageRotation) % 360;\r\n    var renderQueueKeyRef = React__namespace.useRef(0);\r\n    var determinePageInstance = function () {\r\n        getPage(doc, pageIndex).then(function (pdfPage) {\r\n            if (isMounted.current) {\r\n                renderQueueKeyRef.current = renderQueueKey;\r\n                setPage(pdfPage);\r\n            }\r\n        });\r\n    };\r\n    var defaultPageRenderer = function (props) { return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        props.canvasLayer.children,\r\n        props.textLayer.children,\r\n        props.annotationLayer.children)); };\r\n    var renderPageLayer = renderPage || defaultPageRenderer;\r\n    var handleRenderCanvasCompleted = function () {\r\n        if (isMounted.current) {\r\n            setCanvasLayerRendered(true);\r\n        }\r\n    };\r\n    var handleRenderTextCompleted = function () {\r\n        if (isMounted.current) {\r\n            setTextLayerRendered(true);\r\n        }\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        setPage(null);\r\n        setCanvasLayerRendered(false);\r\n        setTextLayerRendered(false);\r\n    }, [pageRotation, rotation, scale]);\r\n    React__namespace.useEffect(function () {\r\n        if (shouldRender && isMounted.current && !page) {\r\n            determinePageInstance();\r\n        }\r\n    }, [shouldRender, page]);\r\n    React__namespace.useEffect(function () {\r\n        if (canvasLayerRendered && textLayerRendered) {\r\n            if (renderQueueKey !== renderQueueKeyRef.current) {\r\n                setPage(null);\r\n                setCanvasLayerRendered(false);\r\n                setTextLayerRendered(false);\r\n            }\r\n            else {\r\n                onRenderCompleted(pageIndex);\r\n            }\r\n        }\r\n    }, [canvasLayerRendered, textLayerRendered]);\r\n    return (React__namespace.createElement(\"div\", { className: classNames({\r\n            'rpv-core__page-layer': true,\r\n            'rpv-core__page-layer--dual': viewMode === exports.ViewMode.DualPage,\r\n            'rpv-core__page-layer--dual-cover': viewMode === exports.ViewMode.DualPageWithCover,\r\n            'rpv-core__page-layer--single': viewMode === exports.ViewMode.SinglePage,\r\n        }), \"data-testid\": \"core__page-layer-\".concat(pageIndex), ref: measureRef, style: {\r\n            height: \"\".concat(h, \"px\"),\r\n            width: \"\".concat(w, \"px\"),\r\n        } }, !page ? (React__namespace.createElement(Spinner, { testId: \"core__page-layer-loading-\".concat(pageIndex) })) : (React__namespace.createElement(React__namespace.Fragment, null,\r\n        renderPageLayer({\r\n            annotationLayer: {\r\n                attrs: {},\r\n                children: (React__namespace.createElement(AnnotationLayer, { doc: doc, outlines: outlines, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, onExecuteNamedAction: onExecuteNamedAction, onJumpFromLinkAnnotation: onJumpFromLinkAnnotation, onJumpToDest: onJumpToDest })),\r\n            },\r\n            canvasLayer: {\r\n                attrs: {},\r\n                children: (React__namespace.createElement(CanvasLayer, { canvasLayerRef: canvasLayerRef, height: h, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, width: w, onRenderCanvasCompleted: handleRenderCanvasCompleted })),\r\n            },\r\n            canvasLayerRendered: canvasLayerRendered,\r\n            doc: doc,\r\n            height: h,\r\n            pageIndex: pageIndex,\r\n            rotation: rotationValue,\r\n            scale: scale,\r\n            svgLayer: {\r\n                attrs: {},\r\n                children: (React__namespace.createElement(SvgLayer, { height: h, page: page, rotation: rotationValue, scale: scale, width: w })),\r\n            },\r\n            textLayer: {\r\n                attrs: {},\r\n                children: (React__namespace.createElement(TextLayer, { containerRef: textLayerRef, page: page, pageIndex: pageIndex, plugins: plugins, rotation: rotationValue, scale: scale, onRenderTextCompleted: handleRenderTextCompleted })),\r\n            },\r\n            textLayerRendered: textLayerRendered,\r\n            width: w,\r\n            markRendered: onRenderCompleted,\r\n            onRotatePage: function (direction) { return onRotatePage(pageIndex, direction); },\r\n        }),\r\n        plugins.map(function (plugin, idx) {\r\n            return plugin.renderPageLayer ? (React__namespace.createElement(React__namespace.Fragment, { key: idx }, plugin.renderPageLayer({\r\n                canvasLayerRef: canvasLayerRef,\r\n                canvasLayerRendered: canvasLayerRendered,\r\n                doc: doc,\r\n                height: h,\r\n                pageIndex: pageIndex,\r\n                rotation: rotationValue,\r\n                scale: scale,\r\n                textLayerRef: textLayerRef,\r\n                textLayerRendered: textLayerRendered,\r\n                width: w,\r\n            }))) : (React__namespace.createElement(React__namespace.Fragment, { key: idx }));\r\n        })))));\r\n};\r\n\r\nvar getFileExt = function (url) {\r\n    var str = url.split(/\\./).pop();\r\n    return str ? str.toLowerCase() : '';\r\n};\r\n\r\nvar rectReducer = function (state, action) {\r\n    var rect = action.rect;\r\n    return state.height !== rect.height || state.width !== rect.width ? rect : state;\r\n};\r\nvar useMeasureRect = function (_a) {\r\n    var elementRef = _a.elementRef;\r\n    var _b = React__namespace.useState(elementRef.current), element = _b[0], setElement = _b[1];\r\n    var initializedRectRef = React__namespace.useRef(false);\r\n    var _c = React__namespace.useReducer(rectReducer, { height: 0, width: 0 }), rect = _c[0], dispatch = _c[1];\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (elementRef.current !== element) {\r\n            setElement(elementRef.current);\r\n        }\r\n    });\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (element && !initializedRectRef.current) {\r\n            initializedRectRef.current = true;\r\n            var _a = element.getBoundingClientRect(), height = _a.height, width = _a.width;\r\n            dispatch({\r\n                rect: { height: height, width: width },\r\n            });\r\n        }\r\n    }, [element]);\r\n    React__namespace.useEffect(function () {\r\n        if (!element) {\r\n            return;\r\n        }\r\n        var tracker = new ResizeObserver(function (entries, __) {\r\n            entries.forEach(function (entry) {\r\n                if (entry.target === element) {\r\n                    var _a = entry.contentRect, height = _a.height, width = _a.width;\r\n                    dispatch({\r\n                        rect: { height: height, width: width },\r\n                    });\r\n                }\r\n            });\r\n        });\r\n        tracker.observe(element);\r\n        return function () {\r\n            tracker.unobserve(element);\r\n        };\r\n    }, [element]);\r\n    return rect;\r\n};\r\n\r\nvar ScrollDirection;\r\n(function (ScrollDirection) {\r\n    ScrollDirection[\"Horizontal\"] = \"Horizontal\";\r\n    ScrollDirection[\"Vertical\"] = \"Vertical\";\r\n    ScrollDirection[\"Both\"] = \"Both\";\r\n})(ScrollDirection || (ScrollDirection = {}));\r\n\r\nvar easeOutQuart = function (t) { return 1 - Math.pow(1 - t, 4); };\r\n\r\nvar EPS = 0.0001;\r\nvar smoothScroll = function (ele, scrollDirection, targetPosition, duration, easing, onReachTarget) {\r\n    if (easing === void 0) { easing = function (t) { return t; }; }\r\n    if (onReachTarget === void 0) { onReachTarget = function () { }; }\r\n    var top = 0;\r\n    var left = 0;\r\n    var reachTarget = false;\r\n    switch (scrollDirection) {\r\n        case ScrollDirection.Horizontal:\r\n            left = ele.scrollLeft;\r\n            top = 0;\r\n        case ScrollDirection.Both:\r\n            left = ele.scrollLeft;\r\n            top = ele.scrollTop;\r\n            break;\r\n        case ScrollDirection.Vertical:\r\n        default:\r\n            left = 0;\r\n            top = ele.scrollTop;\r\n            break;\r\n    }\r\n    var markTargetReached = function () {\r\n        if (!reachTarget) {\r\n            reachTarget = true;\r\n            ele.scrollLeft = targetPosition.left;\r\n            ele.scrollTop = targetPosition.top;\r\n            onReachTarget();\r\n        }\r\n    };\r\n    if (Math.abs(top - targetPosition.top) <= EPS && scrollDirection === ScrollDirection.Vertical) {\r\n        markTargetReached();\r\n        return;\r\n    }\r\n    if (Math.abs(left - targetPosition.left) <= EPS && scrollDirection === ScrollDirection.Horizontal) {\r\n        markTargetReached();\r\n        return;\r\n    }\r\n    var startTime = -1;\r\n    var requestId;\r\n    var offset = {\r\n        left: left - targetPosition.left,\r\n        top: top - targetPosition.top,\r\n    };\r\n    var loop = function (currentTime) {\r\n        if (startTime === -1) {\r\n            startTime = currentTime;\r\n        }\r\n        var time = currentTime - startTime;\r\n        var percent = Math.min(time / duration, 1);\r\n        var easedPercent = easing(percent);\r\n        var updatePosition = {\r\n            left: left - offset.left * easedPercent,\r\n            top: top - offset.top * easedPercent,\r\n        };\r\n        switch (scrollDirection) {\r\n            case ScrollDirection.Horizontal:\r\n                ele.scrollLeft = updatePosition.left;\r\n                break;\r\n            case ScrollDirection.Both:\r\n                ele.scrollLeft = updatePosition.left;\r\n                ele.scrollTop = updatePosition.top;\r\n                break;\r\n            case ScrollDirection.Vertical:\r\n            default:\r\n                ele.scrollTop = updatePosition.top;\r\n                break;\r\n        }\r\n        if (Math.abs(updatePosition.top - targetPosition.top) <= EPS &&\r\n            Math.abs(updatePosition.left - targetPosition.left) <= EPS &&\r\n            !reachTarget) {\r\n            window.cancelAnimationFrame(requestId);\r\n            markTargetReached();\r\n        }\r\n        if (time < duration) {\r\n            requestId = window.requestAnimationFrame(loop);\r\n        }\r\n        else {\r\n            window.cancelAnimationFrame(requestId);\r\n        }\r\n    };\r\n    requestId = window.requestAnimationFrame(loop);\r\n};\r\n\r\nvar ZERO_OFFSET$6 = {\r\n    left: 0,\r\n    top: 0,\r\n};\r\nvar SCROLL_EVENT_OPTIONS = {\r\n    capture: false,\r\n    passive: true,\r\n};\r\nvar SCROLL_DURATION = 400;\r\nvar useScroll = function (_a) {\r\n    var elementRef = _a.elementRef, enableSmoothScroll = _a.enableSmoothScroll, isRtl = _a.isRtl, scrollDirection = _a.scrollDirection, onSmoothScroll = _a.onSmoothScroll;\r\n    var _b = React__namespace.useState(ZERO_OFFSET$6), scrollOffset = _b[0], setScrollOffset = _b[1];\r\n    var _c = React__namespace.useState(elementRef.current), element = _c[0], setElement = _c[1];\r\n    var factor = isRtl ? -1 : 1;\r\n    var latestRef = React__namespace.useRef(scrollDirection);\r\n    latestRef.current = scrollDirection;\r\n    var latestOffsetRef = React__namespace.useRef(ZERO_OFFSET$6);\r\n    var isSmoothScrollingDoneRef = React__namespace.useRef(true);\r\n    var handleSmoothScrollingComplete = React__namespace.useCallback(function () {\r\n        isSmoothScrollingDoneRef.current = true;\r\n        if (enableSmoothScroll) {\r\n            setScrollOffset(latestOffsetRef.current);\r\n        }\r\n        onSmoothScroll(false);\r\n    }, []);\r\n    var handleScroll = React__namespace.useCallback(function () {\r\n        if (!element) {\r\n            return;\r\n        }\r\n        switch (latestRef.current) {\r\n            case ScrollDirection.Horizontal:\r\n                latestOffsetRef.current = {\r\n                    left: factor * element.scrollLeft,\r\n                    top: 0,\r\n                };\r\n                break;\r\n            case ScrollDirection.Both:\r\n                latestOffsetRef.current = {\r\n                    left: factor * element.scrollLeft,\r\n                    top: element.scrollTop,\r\n                };\r\n                break;\r\n            case ScrollDirection.Vertical:\r\n            default:\r\n                latestOffsetRef.current = {\r\n                    left: 0,\r\n                    top: element.scrollTop,\r\n                };\r\n                break;\r\n        }\r\n        if (!enableSmoothScroll || isSmoothScrollingDoneRef.current) {\r\n            setScrollOffset(latestOffsetRef.current);\r\n        }\r\n    }, [element]);\r\n    useIsomorphicLayoutEffect(function () {\r\n        setElement(elementRef.current);\r\n    });\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (!element) {\r\n            return;\r\n        }\r\n        element.addEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\r\n        return function () {\r\n            element.removeEventListener('scroll', handleScroll, SCROLL_EVENT_OPTIONS);\r\n        };\r\n    }, [element]);\r\n    var scrollTo = React__namespace.useCallback(function (targetPosition, withSmoothScroll) {\r\n        var ele = elementRef.current;\r\n        if (!ele) {\r\n            return Promise.resolve();\r\n        }\r\n        var updatePosition = {\r\n            left: 0,\r\n            top: 0,\r\n        };\r\n        switch (latestRef.current) {\r\n            case ScrollDirection.Horizontal:\r\n                updatePosition.left = factor * targetPosition.left;\r\n                break;\r\n            case ScrollDirection.Both:\r\n                updatePosition.left = factor * targetPosition.left;\r\n                updatePosition.top = targetPosition.top;\r\n                break;\r\n            case ScrollDirection.Vertical:\r\n            default:\r\n                updatePosition.top = targetPosition.top;\r\n                break;\r\n        }\r\n        if (withSmoothScroll) {\r\n            isSmoothScrollingDoneRef.current = false;\r\n            onSmoothScroll(true);\r\n            return new Promise(function (resolve, _) {\r\n                smoothScroll(ele, latestRef.current, updatePosition, SCROLL_DURATION, easeOutQuart, function () {\r\n                    handleSmoothScrollingComplete();\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n        return new Promise(function (resolve, _) {\r\n            switch (latestRef.current) {\r\n                case ScrollDirection.Horizontal:\r\n                    ele.scrollLeft = updatePosition.left;\r\n                    break;\r\n                case ScrollDirection.Both:\r\n                    ele.scrollLeft = updatePosition.left;\r\n                    ele.scrollTop = updatePosition.top;\r\n                    break;\r\n                case ScrollDirection.Vertical:\r\n                default:\r\n                    ele.scrollTop = updatePosition.top;\r\n                    break;\r\n            }\r\n            resolve();\r\n        });\r\n    }, [elementRef]);\r\n    return {\r\n        scrollOffset: scrollOffset,\r\n        scrollTo: scrollTo,\r\n    };\r\n};\r\n\r\nvar clamp = function (min, max, value) { return Math.max(min, Math.min(value, max)); };\r\n\r\nvar indexOfMax = function (arr) { return arr.reduce(function (prev, curr, i, a) { return (curr > a[prev] ? i : prev); }, 0); };\r\n\r\nvar buildContainerStyles = function (totalSize, scrollMode) {\r\n    switch (scrollMode) {\r\n        case exports.ScrollMode.Horizontal:\r\n            return {\r\n                position: 'relative',\r\n                height: '100%',\r\n                width: \"\".concat(totalSize.width, \"px\"),\r\n            };\r\n        case exports.ScrollMode.Vertical:\r\n        default:\r\n            return {\r\n                position: 'relative',\r\n                height: \"\".concat(totalSize.height, \"px\"),\r\n                width: '100%',\r\n            };\r\n    }\r\n};\r\n\r\nvar buildItemContainerStyles = function (item, parentRect, scrollMode) {\r\n    return scrollMode !== exports.ScrollMode.Page\r\n        ? {}\r\n        : {\r\n            height: \"\".concat(parentRect.height, \"px\"),\r\n            width: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            transform: \"translateY(\".concat(item.start.top, \"px)\"),\r\n        };\r\n};\r\n\r\nvar hasDifferentSizes = function (sizes) {\r\n    var numberOfItems = sizes.length;\r\n    if (numberOfItems === 1) {\r\n        return false;\r\n    }\r\n    for (var i = 1; i < numberOfItems; i++) {\r\n        if (sizes[i].height !== sizes[0].height || sizes[i].width !== sizes[0].width) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\nvar getMinWidthOfCover = function (sizes, viewMode) {\r\n    if (viewMode !== exports.ViewMode.DualPageWithCover) {\r\n        return 0;\r\n    }\r\n    if (!hasDifferentSizes(sizes)) {\r\n        return 2 * sizes[0].width;\r\n    }\r\n    var chunkWidths = chunk(sizes.slice(1), 2).map(function (eachChunk) {\r\n        return eachChunk.length === 2 ? eachChunk[0].width + eachChunk[1].width : eachChunk[0].width;\r\n    });\r\n    var widths = [sizes[0].width].concat(chunkWidths);\r\n    return Math.max.apply(Math, widths);\r\n};\r\nvar buildItemStyles = function (item, isRtl, sizes, viewMode, scrollMode) {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var sideProperty = isRtl ? 'right' : 'left';\r\n    var factor = isRtl ? -1 : 1;\r\n    var numberOfItems = sizes.length;\r\n    var left = item.start.left * factor;\r\n    var _h = item.size, height = _h.height, width = _h.width;\r\n    if (viewMode === exports.ViewMode.DualPageWithCover) {\r\n        var transformTop = scrollMode === exports.ScrollMode.Page ? 0 : item.start.top;\r\n        if (item.index === 0 || (numberOfItems % 2 === 0 && item.index === numberOfItems - 1)) {\r\n            return _a = {\r\n                    height: \"\".concat(height, \"px\"),\r\n                    minWidth: \"\".concat(getMinWidthOfCover(sizes, viewMode), \"px\"),\r\n                    width: '100%'\r\n                },\r\n                _a[sideProperty] = 0,\r\n                _a.position = 'absolute',\r\n                _a.top = 0,\r\n                _a.transform = \"translate(\".concat(left, \"px, \").concat(transformTop, \"px)\"),\r\n                _a;\r\n        }\r\n        return _b = {\r\n                height: \"\".concat(height, \"px\"),\r\n                width: \"\".concat(width, \"px\")\r\n            },\r\n            _b[sideProperty] = 0,\r\n            _b.position = 'absolute',\r\n            _b.top = 0,\r\n            _b.transform = \"translate(\".concat(left, \"px, \").concat(transformTop, \"px)\"),\r\n            _b;\r\n    }\r\n    if (viewMode === exports.ViewMode.DualPage) {\r\n        return _c = {\r\n                height: \"\".concat(height, \"px\"),\r\n                width: \"\".concat(width, \"px\")\r\n            },\r\n            _c[sideProperty] = 0,\r\n            _c.position = 'absolute',\r\n            _c.top = 0,\r\n            _c.transform = \"translate(\".concat(left, \"px, \").concat(scrollMode === exports.ScrollMode.Page ? 0 : item.start.top, \"px)\"),\r\n            _c;\r\n    }\r\n    switch (scrollMode) {\r\n        case exports.ScrollMode.Horizontal:\r\n            return _d = {\r\n                    height: '100%',\r\n                    width: \"\".concat(width, \"px\")\r\n                },\r\n                _d[sideProperty] = 0,\r\n                _d.position = 'absolute',\r\n                _d.top = 0,\r\n                _d.transform = \"translateX(\".concat(left, \"px)\"),\r\n                _d;\r\n        case exports.ScrollMode.Page:\r\n            return _e = {\r\n                    height: \"\".concat(height, \"px\"),\r\n                    width: \"\".concat(width, \"px\")\r\n                },\r\n                _e[sideProperty] = 0,\r\n                _e.position = 'absolute',\r\n                _e.top = 0,\r\n                _e;\r\n        case exports.ScrollMode.Wrapped:\r\n            return _f = {\r\n                    height: \"\".concat(height, \"px\"),\r\n                    width: \"\".concat(width, \"px\")\r\n                },\r\n                _f[sideProperty] = 0,\r\n                _f.position = 'absolute',\r\n                _f.top = 0,\r\n                _f.transform = \"translate(\".concat(left, \"px, \").concat(item.start.top, \"px)\"),\r\n                _f;\r\n        case exports.ScrollMode.Vertical:\r\n        default:\r\n            return _g = {\r\n                    height: \"\".concat(height, \"px\"),\r\n                    width: '100%'\r\n                },\r\n                _g[sideProperty] = 0,\r\n                _g.position = 'absolute',\r\n                _g.top = 0,\r\n                _g.transform = \"translateY(\".concat(item.start.top, \"px)\"),\r\n                _g;\r\n    }\r\n};\r\n\r\nvar findNearest = function (low, high, value, getItemValue) {\r\n    while (low <= high) {\r\n        var middle = ((low + high) / 2) | 0;\r\n        var currentValue = getItemValue(middle);\r\n        if (currentValue < value) {\r\n            low = middle + 1;\r\n        }\r\n        else if (currentValue > value) {\r\n            high = middle - 1;\r\n        }\r\n        else {\r\n            return middle;\r\n        }\r\n    }\r\n    return low > 0 ? low - 1 : 0;\r\n};\r\n\r\nvar calculateRange = function (scrollDirection, measurements, outerSize, scrollOffset) {\r\n    var currentOffset = 0;\r\n    switch (scrollDirection) {\r\n        case ScrollDirection.Horizontal:\r\n            currentOffset = scrollOffset.left;\r\n            break;\r\n        case ScrollDirection.Vertical:\r\n        default:\r\n            currentOffset = scrollOffset.top;\r\n            break;\r\n    }\r\n    var size = measurements.length - 1;\r\n    var getOffset = function (index) {\r\n        switch (scrollDirection) {\r\n            case ScrollDirection.Horizontal:\r\n                return measurements[index].start.left;\r\n            case ScrollDirection.Both:\r\n            case ScrollDirection.Vertical:\r\n            default:\r\n                return measurements[index].start.top;\r\n        }\r\n    };\r\n    var start = findNearest(0, size, currentOffset, getOffset);\r\n    if (scrollDirection === ScrollDirection.Both) {\r\n        var startTop = measurements[start].start.top;\r\n        while (start - 1 >= 0 &&\r\n            measurements[start - 1].start.top === startTop &&\r\n            measurements[start - 1].start.left >= scrollOffset.left) {\r\n            start--;\r\n        }\r\n    }\r\n    var end = start;\r\n    while (end <= size) {\r\n        var topLeftCorner = {\r\n            top: measurements[end].start.top - scrollOffset.top,\r\n            left: measurements[end].start.left - scrollOffset.left,\r\n        };\r\n        var visibleSize = {\r\n            height: outerSize.height - topLeftCorner.top,\r\n            width: outerSize.width - topLeftCorner.left,\r\n        };\r\n        if (scrollDirection === ScrollDirection.Horizontal && visibleSize.width < 0) {\r\n            break;\r\n        }\r\n        if (scrollDirection === ScrollDirection.Vertical && visibleSize.height < 0) {\r\n            break;\r\n        }\r\n        if (scrollDirection === ScrollDirection.Both && (visibleSize.width < 0 || visibleSize.height < 0)) {\r\n            break;\r\n        }\r\n        end++;\r\n    }\r\n    return {\r\n        start: start,\r\n        end: end,\r\n    };\r\n};\r\n\r\nvar ZERO_OFFSET$5 = {\r\n    left: 0,\r\n    top: 0,\r\n};\r\nvar measure = function (numberOfItems, parentRect, sizes, scrollMode) {\r\n    var measurements = [];\r\n    var totalWidth = 0;\r\n    var firstOfRow = {\r\n        left: 0,\r\n        top: 0,\r\n    };\r\n    var maxHeight = 0;\r\n    var start = ZERO_OFFSET$5;\r\n    for (var i = 0; i < numberOfItems; i++) {\r\n        var size = sizes[i];\r\n        if (i === 0) {\r\n            totalWidth = size.width;\r\n            firstOfRow = {\r\n                left: 0,\r\n                top: 0,\r\n            };\r\n            maxHeight = size.height;\r\n        }\r\n        else {\r\n            switch (scrollMode) {\r\n                case exports.ScrollMode.Wrapped:\r\n                    totalWidth += size.width;\r\n                    if (totalWidth < parentRect.width) {\r\n                        start = {\r\n                            left: measurements[i - 1].end.left,\r\n                            top: firstOfRow.top,\r\n                        };\r\n                        maxHeight = Math.max(maxHeight, size.height);\r\n                    }\r\n                    else {\r\n                        totalWidth = size.width;\r\n                        start = {\r\n                            left: firstOfRow.left,\r\n                            top: firstOfRow.top + maxHeight,\r\n                        };\r\n                        firstOfRow = {\r\n                            left: start.left,\r\n                            top: start.top,\r\n                        };\r\n                        maxHeight = size.height;\r\n                    }\r\n                    break;\r\n                case exports.ScrollMode.Horizontal:\r\n                case exports.ScrollMode.Vertical:\r\n                default:\r\n                    start = measurements[i - 1].end;\r\n                    break;\r\n            }\r\n        }\r\n        var end = {\r\n            left: start.left + size.width,\r\n            top: start.top + size.height,\r\n        };\r\n        measurements[i] = {\r\n            index: i,\r\n            start: start,\r\n            size: size,\r\n            end: end,\r\n            visibility: -1,\r\n        };\r\n    }\r\n    return measurements;\r\n};\r\n\r\nvar ZERO_OFFSET$4 = {\r\n    left: 0,\r\n    top: 0,\r\n};\r\nvar measureDualPage = function (numberOfItems, parentRect, sizes, scrollMode) {\r\n    var measurements = [];\r\n    var top = 0;\r\n    var maxHeight = 0;\r\n    var start = ZERO_OFFSET$4;\r\n    for (var i = 0; i < numberOfItems; i++) {\r\n        var size = {\r\n            height: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.height, sizes[i].height) : sizes[i].height,\r\n            width: Math.max(parentRect.width / 2, sizes[i].width),\r\n        };\r\n        if (scrollMode === exports.ScrollMode.Page) {\r\n            start = {\r\n                left: i % 2 === 0 ? 0 : size.width,\r\n                top: Math.floor(i / 2) * size.height,\r\n            };\r\n        }\r\n        else {\r\n            if (i % 2 === 0) {\r\n                top = top + maxHeight;\r\n                start = {\r\n                    left: 0,\r\n                    top: top,\r\n                };\r\n                maxHeight = i === numberOfItems - 1 ? sizes[i].height : Math.max(sizes[i].height, sizes[i + 1].height);\r\n            }\r\n            else {\r\n                start = {\r\n                    left: measurements[i - 1].end.left,\r\n                    top: top,\r\n                };\r\n            }\r\n        }\r\n        var end = {\r\n            left: start.left + size.width,\r\n            top: start.top + size.height,\r\n        };\r\n        measurements[i] = {\r\n            index: i,\r\n            start: start,\r\n            size: size,\r\n            end: end,\r\n            visibility: -1,\r\n        };\r\n    }\r\n    return measurements;\r\n};\r\n\r\nvar ZERO_OFFSET$3 = {\r\n    left: 0,\r\n    top: 0,\r\n};\r\nvar measureDualPageWithCover = function (numberOfItems, parentRect, sizes, scrollMode) {\r\n    var measurements = [];\r\n    var top = 0;\r\n    var maxHeight = 0;\r\n    var start = ZERO_OFFSET$3;\r\n    for (var i = 0; i < numberOfItems; i++) {\r\n        var size = i === 0\r\n            ? {\r\n                height: scrollMode === exports.ScrollMode.Page\r\n                    ? Math.max(parentRect.height, sizes[i].height)\r\n                    : sizes[i].height,\r\n                width: scrollMode === exports.ScrollMode.Page ? Math.max(parentRect.width, sizes[i].width) : sizes[i].width,\r\n            }\r\n            : {\r\n                height: scrollMode === exports.ScrollMode.Page\r\n                    ? Math.max(parentRect.height, sizes[i].height)\r\n                    : sizes[i].height,\r\n                width: Math.max(parentRect.width / 2, sizes[i].width),\r\n            };\r\n        if (scrollMode === exports.ScrollMode.Page) {\r\n            start =\r\n                i === 0\r\n                    ? ZERO_OFFSET$3\r\n                    : {\r\n                        left: i % 2 === 0 ? size.width : 0,\r\n                        top: Math.floor((i - 1) / 2) * size.height + measurements[0].end.top,\r\n                    };\r\n        }\r\n        else {\r\n            if (i === 0) {\r\n                start = ZERO_OFFSET$3;\r\n                top = sizes[0].height;\r\n                maxHeight = 0;\r\n            }\r\n            else if (i % 2 === 1) {\r\n                top = top + maxHeight;\r\n                start = {\r\n                    left: 0,\r\n                    top: top,\r\n                };\r\n                maxHeight = i === numberOfItems - 1 ? sizes[i].height : Math.max(sizes[i].height, sizes[i + 1].height);\r\n            }\r\n            else {\r\n                start = {\r\n                    left: measurements[i - 1].end.left,\r\n                    top: top,\r\n                };\r\n            }\r\n        }\r\n        var end = {\r\n            left: start.left + size.width,\r\n            top: start.top + size.height,\r\n        };\r\n        measurements[i] = {\r\n            index: i,\r\n            start: start,\r\n            size: size,\r\n            end: end,\r\n            visibility: -1,\r\n        };\r\n    }\r\n    return measurements;\r\n};\r\n\r\nvar ZERO_OFFSET$2 = {\r\n    left: 0,\r\n    top: 0,\r\n};\r\nvar measureSinglePage = function (numberOfItems, parentRect, sizes) {\r\n    var measurements = [];\r\n    for (var i = 0; i < numberOfItems; i++) {\r\n        var size = {\r\n            height: Math.max(parentRect.height, sizes[i].height),\r\n            width: Math.max(parentRect.width, sizes[i].width),\r\n        };\r\n        var start = i === 0 ? ZERO_OFFSET$2 : measurements[i - 1].end;\r\n        var end = {\r\n            left: start.left + size.width,\r\n            top: start.top + size.height,\r\n        };\r\n        measurements[i] = {\r\n            index: i,\r\n            start: start,\r\n            size: size,\r\n            end: end,\r\n            visibility: -1,\r\n        };\r\n    }\r\n    return measurements;\r\n};\r\n\r\nvar ZERO_RECT$2 = {\r\n    height: 0,\r\n    width: 0,\r\n};\r\nvar ZERO_OFFSET$1 = {\r\n    left: 0,\r\n    top: 0,\r\n};\r\nvar COMPARE_EPSILON = 0.000000000001;\r\nvar VIRTUAL_INDEX_ATTR = 'data-virtual-index';\r\nvar IO_THRESHOLD = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];\r\nvar useVirtual = function (_a) {\r\n    var enableSmoothScroll = _a.enableSmoothScroll, isRtl = _a.isRtl, numberOfItems = _a.numberOfItems, parentRef = _a.parentRef, setRenderRange = _a.setRenderRange, sizes = _a.sizes, scrollMode = _a.scrollMode, viewMode = _a.viewMode;\r\n    var _b = React__namespace.useState(false), isSmoothScrolling = _b[0], setSmoothScrolling = _b[1];\r\n    var onSmoothScroll = React__namespace.useCallback(function (isSmoothScrolling) { return setSmoothScrolling(isSmoothScrolling); }, []);\r\n    var scrollModeRef = React__namespace.useRef(scrollMode);\r\n    scrollModeRef.current = scrollMode;\r\n    var viewModeRef = React__namespace.useRef(viewMode);\r\n    viewModeRef.current = viewMode;\r\n    var scrollDirection = scrollMode === exports.ScrollMode.Wrapped || viewMode === exports.ViewMode.DualPageWithCover || viewMode === exports.ViewMode.DualPage\r\n        ? ScrollDirection.Both\r\n        : scrollMode === exports.ScrollMode.Horizontal\r\n            ? ScrollDirection.Horizontal\r\n            : ScrollDirection.Vertical;\r\n    var _c = useScroll({\r\n        elementRef: parentRef,\r\n        enableSmoothScroll: enableSmoothScroll,\r\n        isRtl: isRtl,\r\n        scrollDirection: scrollDirection,\r\n        onSmoothScroll: onSmoothScroll,\r\n    }), scrollOffset = _c.scrollOffset, scrollTo = _c.scrollTo;\r\n    var parentRect = useMeasureRect({\r\n        elementRef: parentRef,\r\n    });\r\n    var latestRef = React__namespace.useRef({\r\n        scrollOffset: ZERO_OFFSET$1,\r\n        measurements: [],\r\n    });\r\n    latestRef.current.scrollOffset = scrollOffset;\r\n    var defaultVisibilities = React__namespace.useMemo(function () { return Array(numberOfItems).fill(-1); }, []);\r\n    var _d = React__namespace.useState(defaultVisibilities), visibilities = _d[0], setVisibilities = _d[1];\r\n    var intersectionTracker = React__namespace.useMemo(function () {\r\n        var io = new IntersectionObserver(function (entries) {\r\n            entries.forEach(function (entry) {\r\n                var ratio = entry.isIntersecting ? entry.intersectionRatio : -1;\r\n                var target = entry.target;\r\n                var indexAttribute = target.getAttribute(VIRTUAL_INDEX_ATTR);\r\n                if (!indexAttribute) {\r\n                    return;\r\n                }\r\n                var index = parseInt(indexAttribute, 10);\r\n                if (0 <= index && index < numberOfItems) {\r\n                    setVisibilities(function (old) {\r\n                        old[index] = ratio;\r\n                        return __spreadArray([], old, true);\r\n                    });\r\n                }\r\n            });\r\n        }, {\r\n            threshold: IO_THRESHOLD,\r\n        });\r\n        return io;\r\n    }, []);\r\n    var measurements = React__namespace.useMemo(function () {\r\n        if (scrollMode === exports.ScrollMode.Page && viewMode === exports.ViewMode.SinglePage) {\r\n            return measureSinglePage(numberOfItems, parentRect, sizes);\r\n        }\r\n        if (viewMode === exports.ViewMode.DualPageWithCover) {\r\n            return measureDualPageWithCover(numberOfItems, parentRect, sizes, scrollMode);\r\n        }\r\n        if (viewMode === exports.ViewMode.DualPage) {\r\n            return measureDualPage(numberOfItems, parentRect, sizes, scrollMode);\r\n        }\r\n        return measure(numberOfItems, parentRect, sizes, scrollMode);\r\n    }, [scrollMode, sizes, viewMode, parentRect]);\r\n    var totalSize = measurements[numberOfItems - 1]\r\n        ? {\r\n            height: measurements[numberOfItems - 1].end.top,\r\n            width: measurements[numberOfItems - 1].end.left,\r\n        }\r\n        : ZERO_RECT$2;\r\n    latestRef.current.measurements = measurements;\r\n    var _e = React__namespace.useMemo(function () {\r\n        var _a = calculateRange(scrollDirection, measurements, parentRect, scrollOffset), start = _a.start, end = _a.end;\r\n        var visiblePageVisibilities = visibilities.slice(clamp(0, numberOfItems, start), clamp(0, numberOfItems, end));\r\n        var maxVisbilityItem = start + indexOfMax(visiblePageVisibilities);\r\n        maxVisbilityItem = clamp(0, numberOfItems - 1, maxVisbilityItem);\r\n        var maxVisbilityIndex = maxVisbilityItem;\r\n        var _b = setRenderRange({\r\n            endPage: end,\r\n            numPages: numberOfItems,\r\n            startPage: start,\r\n        }), startPage = _b.startPage, endPage = _b.endPage;\r\n        startPage = Math.max(startPage, 0);\r\n        endPage = Math.min(endPage, numberOfItems - 1);\r\n        switch (viewMode) {\r\n            case exports.ViewMode.DualPageWithCover:\r\n                if (maxVisbilityItem > 0) {\r\n                    maxVisbilityIndex = maxVisbilityItem % 2 === 1 ? maxVisbilityItem : maxVisbilityItem - 1;\r\n                }\r\n                startPage = startPage === 0 ? 0 : startPage % 2 === 1 ? startPage : startPage - 1;\r\n                endPage = endPage % 2 === 1 ? endPage - 1 : endPage;\r\n                if (numberOfItems - endPage <= 2) {\r\n                    endPage = numberOfItems - 1;\r\n                }\r\n                break;\r\n            case exports.ViewMode.DualPage:\r\n                maxVisbilityIndex = maxVisbilityItem % 2 === 0 ? maxVisbilityItem : maxVisbilityItem - 1;\r\n                startPage = startPage % 2 === 0 ? startPage : startPage - 1;\r\n                endPage = endPage % 2 === 1 ? endPage : endPage - 1;\r\n                break;\r\n            case exports.ViewMode.SinglePage:\r\n            default:\r\n                maxVisbilityIndex = maxVisbilityItem;\r\n                break;\r\n        }\r\n        return {\r\n            startPage: startPage,\r\n            endPage: endPage,\r\n            maxVisbilityIndex: maxVisbilityIndex,\r\n        };\r\n    }, [measurements, parentRect, scrollOffset, viewMode, visibilities]), startPage = _e.startPage, endPage = _e.endPage, maxVisbilityIndex = _e.maxVisbilityIndex;\r\n    var virtualItems = React__namespace.useMemo(function () {\r\n        var virtualItems = [];\r\n        var _loop_1 = function (i) {\r\n            var item = measurements[i];\r\n            var virtualItem = __assign(__assign({}, item), { visibility: visibilities[i] !== undefined ? visibilities[i] : -1, measureRef: function (ele) {\r\n                    if (!ele) {\r\n                        return;\r\n                    }\r\n                    ele.setAttribute(VIRTUAL_INDEX_ATTR, \"\".concat(i));\r\n                    intersectionTracker.observe(ele);\r\n                } });\r\n            virtualItems.push(virtualItem);\r\n        };\r\n        for (var i = startPage; i <= endPage; i++) {\r\n            _loop_1(i);\r\n        }\r\n        return virtualItems;\r\n    }, [startPage, endPage, visibilities, measurements]);\r\n    var scrollToItem = React__namespace.useCallback(function (index, offset) {\r\n        var measurements = latestRef.current.measurements;\r\n        var normalizedIndex = clamp(0, numberOfItems - 1, index);\r\n        var measurement = measurements[normalizedIndex];\r\n        var withOffset = scrollModeRef.current === exports.ScrollMode.Page ? ZERO_OFFSET$1 : offset;\r\n        return measurement\r\n            ? scrollTo({\r\n                left: withOffset.left + measurement.start.left,\r\n                top: withOffset.top + measurement.start.top,\r\n            }, enableSmoothScroll)\r\n            : Promise.resolve();\r\n    }, [scrollTo, enableSmoothScroll]);\r\n    var scrollToSmallestItemAbove = React__namespace.useCallback(function (index, offset) {\r\n        var measurements = latestRef.current.measurements;\r\n        var start = measurements[index].start;\r\n        var nextItem = measurements.find(function (item) { return item.start.top - start.top > COMPARE_EPSILON; });\r\n        if (!nextItem) {\r\n            return Promise.resolve();\r\n        }\r\n        var nextIndex = nextItem.index;\r\n        switch (viewModeRef.current) {\r\n            case exports.ViewMode.DualPage:\r\n                nextIndex = nextIndex % 2 === 0 ? nextIndex : nextIndex + 1;\r\n                break;\r\n            case exports.ViewMode.DualPageWithCover:\r\n                nextIndex = nextIndex % 2 === 1 ? nextIndex : nextIndex + 1;\r\n                break;\r\n        }\r\n        return scrollToItem(nextIndex, offset);\r\n    }, []);\r\n    var scrollToBiggestItemBelow = React__namespace.useCallback(function (index, offset) {\r\n        var measurements = latestRef.current.measurements;\r\n        var start = measurements[index].start;\r\n        var prevIndex = index;\r\n        var found = false;\r\n        for (var i = numberOfItems - 1; i >= 0; i--) {\r\n            if (start.top - measurements[i].start.top > COMPARE_EPSILON) {\r\n                found = true;\r\n                prevIndex = measurements[i].index;\r\n                break;\r\n            }\r\n        }\r\n        if (!found) {\r\n            return Promise.resolve();\r\n        }\r\n        switch (viewModeRef.current) {\r\n            case exports.ViewMode.DualPage:\r\n                prevIndex = prevIndex % 2 === 0 ? prevIndex : prevIndex - 1;\r\n                break;\r\n            case exports.ViewMode.DualPageWithCover:\r\n                prevIndex = prevIndex % 2 === 0 ? prevIndex - 1 : prevIndex;\r\n                break;\r\n        }\r\n        if (prevIndex === index) {\r\n            prevIndex = index - 1;\r\n        }\r\n        return scrollToItem(prevIndex, offset);\r\n    }, []);\r\n    var scrollToNextItem = React__namespace.useCallback(function (index, offset) {\r\n        if (viewModeRef.current === exports.ViewMode.DualPageWithCover || viewModeRef.current === exports.ViewMode.DualPage) {\r\n            return scrollToSmallestItemAbove(index, offset);\r\n        }\r\n        switch (scrollModeRef.current) {\r\n            case exports.ScrollMode.Wrapped:\r\n                return scrollToSmallestItemAbove(index, offset);\r\n            case exports.ScrollMode.Horizontal:\r\n            case exports.ScrollMode.Vertical:\r\n            default:\r\n                return scrollToItem(index + 1, offset);\r\n        }\r\n    }, []);\r\n    var scrollToPreviousItem = React__namespace.useCallback(function (index, offset) {\r\n        if (viewModeRef.current === exports.ViewMode.DualPageWithCover || viewModeRef.current === exports.ViewMode.DualPage) {\r\n            return scrollToBiggestItemBelow(index, offset);\r\n        }\r\n        switch (scrollModeRef.current) {\r\n            case exports.ScrollMode.Wrapped:\r\n                return scrollToBiggestItemBelow(index, offset);\r\n            case exports.ScrollMode.Horizontal:\r\n            case exports.ScrollMode.Vertical:\r\n            default:\r\n                return scrollToItem(index - 1, offset);\r\n        }\r\n    }, []);\r\n    var getContainerStyles = React__namespace.useCallback(function () { return buildContainerStyles(totalSize, scrollModeRef.current); }, [totalSize]);\r\n    var getItemContainerStyles = React__namespace.useCallback(function (item) { return buildItemContainerStyles(item, parentRect, scrollModeRef.current); }, [parentRect]);\r\n    var getItemStyles = React__namespace.useCallback(function (item) { return buildItemStyles(item, isRtl, sizes, viewModeRef.current, scrollModeRef.current); }, [isRtl, sizes]);\r\n    var zoom = React__namespace.useCallback(function (scale, index) {\r\n        var _a = latestRef.current, measurements = _a.measurements, scrollOffset = _a.scrollOffset;\r\n        var normalizedIndex = clamp(0, numberOfItems - 1, index);\r\n        var measurement = measurements[normalizedIndex];\r\n        if (measurement) {\r\n            var updateOffset = scrollModeRef.current === exports.ScrollMode.Page\r\n                ? {\r\n                    left: measurement.start.left,\r\n                    top: measurement.start.top,\r\n                }\r\n                : {\r\n                    left: scrollOffset.left * scale,\r\n                    top: scrollOffset.top * scale,\r\n                };\r\n            return scrollTo(updateOffset, false);\r\n        }\r\n        return Promise.resolve();\r\n    }, []);\r\n    React__namespace.useEffect(function () {\r\n        return function () {\r\n            intersectionTracker.disconnect();\r\n        };\r\n    }, []);\r\n    return {\r\n        boundingClientRect: parentRect,\r\n        isSmoothScrolling: isSmoothScrolling,\r\n        startPage: startPage,\r\n        endPage: endPage,\r\n        maxVisbilityIndex: maxVisbilityIndex,\r\n        virtualItems: virtualItems,\r\n        getContainerStyles: getContainerStyles,\r\n        getItemContainerStyles: getItemContainerStyles,\r\n        getItemStyles: getItemStyles,\r\n        scrollToItem: scrollToItem,\r\n        scrollToNextItem: scrollToNextItem,\r\n        scrollToPreviousItem: scrollToPreviousItem,\r\n        zoom: zoom,\r\n    };\r\n};\r\n\r\nvar SCROLL_BAR_WIDTH = 17;\r\nvar PAGE_PADDING = 8;\r\nvar calculateScale = function (container, pageHeight, pageWidth, scale, viewMode, numPages) {\r\n    var w = pageWidth;\r\n    switch (true) {\r\n        case viewMode === exports.ViewMode.DualPageWithCover && numPages >= 3:\r\n        case viewMode === exports.ViewMode.DualPage && numPages >= 3:\r\n            w = 2 * pageWidth;\r\n            break;\r\n        default:\r\n            w = pageWidth;\r\n            break;\r\n    }\r\n    switch (scale) {\r\n        case exports.SpecialZoomLevel.ActualSize:\r\n            return 1;\r\n        case exports.SpecialZoomLevel.PageFit:\r\n            return Math.min((container.clientWidth - SCROLL_BAR_WIDTH) / w, (container.clientHeight - 2 * PAGE_PADDING) / pageHeight);\r\n        case exports.SpecialZoomLevel.PageWidth:\r\n            return (container.clientWidth - SCROLL_BAR_WIDTH) / w;\r\n    }\r\n};\r\n\r\nvar useStack = function (maxLength) {\r\n    var stackRef = React__namespace.useRef([]);\r\n    var map = function (transformer) {\r\n        return stackRef.current.map(function (item) { return transformer(item); });\r\n    };\r\n    var pop = function () {\r\n        var stack = stackRef.current;\r\n        var size = stack.length;\r\n        if (size === 0) {\r\n            return null;\r\n        }\r\n        var lastItem = stack.pop();\r\n        stackRef.current = stack;\r\n        return lastItem;\r\n    };\r\n    var push = function (item) {\r\n        var stack = stackRef.current;\r\n        if (stack.length + 1 > maxLength) {\r\n            stack.shift();\r\n        }\r\n        stack.push(item);\r\n        stackRef.current = stack;\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        return function () {\r\n            stackRef.current = [];\r\n        };\r\n    }, []);\r\n    return {\r\n        push: push,\r\n        map: map,\r\n        pop: pop,\r\n    };\r\n};\r\n\r\nvar useQueue = function (maxLength) {\r\n    var queueRef = React__namespace.useRef([]);\r\n    var dequeue = function () {\r\n        var queue = queueRef.current;\r\n        var size = queue.length;\r\n        if (size === 0) {\r\n            return null;\r\n        }\r\n        var firstItem = queue.shift();\r\n        queueRef.current = queue;\r\n        return firstItem || null;\r\n    };\r\n    var enqueue = function (item) {\r\n        var queue = queueRef.current;\r\n        if (queue.length + 1 > maxLength) {\r\n            queue.pop();\r\n        }\r\n        queueRef.current = [item].concat(queue);\r\n    };\r\n    var map = function (transformer) {\r\n        return queueRef.current.map(function (item) { return transformer(item); });\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        return function () {\r\n            queueRef.current = [];\r\n        };\r\n    }, []);\r\n    return {\r\n        dequeue: dequeue,\r\n        enqueue: enqueue,\r\n        map: map,\r\n    };\r\n};\r\n\r\nvar MAX_QUEUE_LENGTH = 50;\r\nvar useDestination = function (_a) {\r\n    var getCurrentPage = _a.getCurrentPage;\r\n    var previousDestinations = useStack(MAX_QUEUE_LENGTH);\r\n    var nextDestinations = useQueue(MAX_QUEUE_LENGTH);\r\n    var getNextDestination = function () {\r\n        var nextDest = nextDestinations.dequeue();\r\n        if (nextDest) {\r\n            previousDestinations.push(nextDest);\r\n        }\r\n        if (nextDest && nextDest.pageIndex === getCurrentPage()) {\r\n            return getNextDestination();\r\n        }\r\n        return nextDest;\r\n    };\r\n    var getPreviousDestination = function () {\r\n        var prevDest = previousDestinations.pop();\r\n        if (prevDest) {\r\n            nextDestinations.enqueue(prevDest);\r\n        }\r\n        if (prevDest && prevDest.pageIndex === getCurrentPage()) {\r\n            return getPreviousDestination();\r\n        }\r\n        return prevDest;\r\n    };\r\n    var markVisitedDestination = React__namespace.useCallback(function (destination) {\r\n        previousDestinations.push(destination);\r\n    }, []);\r\n    return {\r\n        getNextDestination: getNextDestination,\r\n        getPreviousDestination: getPreviousDestination,\r\n        markVisitedDestination: markVisitedDestination,\r\n    };\r\n};\r\n\r\nvar flaternSingleOutline = function (outline) {\r\n    var result = [];\r\n    if (outline.items && outline.items.length > 0) {\r\n        result = result.concat(flaternOutlines(outline.items));\r\n    }\r\n    return result;\r\n};\r\nvar flaternOutlines = function (outlines) {\r\n    var result = [];\r\n    outlines.map(function (outline) {\r\n        result = result.concat(outline).concat(flaternSingleOutline(outline));\r\n    });\r\n    return result;\r\n};\r\nvar useOutlines = function (doc) {\r\n    var isMounted = useIsMounted();\r\n    var _a = React__namespace.useState([]), outlines = _a[0], setOutlines = _a[1];\r\n    React__namespace.useEffect(function () {\r\n        doc.getOutline().then(function (result) {\r\n            if (isMounted.current && result !== null) {\r\n                var items = flaternOutlines(result);\r\n                setOutlines(items);\r\n            }\r\n        });\r\n    }, []);\r\n    return outlines;\r\n};\r\n\r\nvar RESIZE_EVENT_OPTIONS = {\r\n    capture: false,\r\n    passive: true,\r\n};\r\nvar ZERO_RECT$1 = {\r\n    height: 0,\r\n    width: 0,\r\n};\r\nvar useWindowResize = function () {\r\n    var _a = React__namespace.useState(ZERO_RECT$1), windowRect = _a[0], setWindowRect = _a[1];\r\n    var handleResize = useDebounceCallback(function () {\r\n        setWindowRect({\r\n            height: window.innerHeight,\r\n            width: window.innerWidth,\r\n        });\r\n    }, 100);\r\n    useIsomorphicLayoutEffect(function () {\r\n        window.addEventListener('resize', handleResize, RESIZE_EVENT_OPTIONS);\r\n        return function () {\r\n            window.removeEventListener('resize', handleResize, RESIZE_EVENT_OPTIONS);\r\n        };\r\n    }, []);\r\n    return windowRect;\r\n};\r\n\r\nvar ZERO_RECT = {\r\n    height: 0,\r\n    width: 0,\r\n};\r\nvar useFullScreen = function (_a) {\r\n    var getCurrentPage = _a.getCurrentPage, getCurrentScrollMode = _a.getCurrentScrollMode, jumpToPage = _a.jumpToPage, targetRef = _a.targetRef;\r\n    var _b = React__namespace.useState(exports.FullScreenMode.Normal), fullScreenMode = _b[0], setFullScreenMode = _b[1];\r\n    var windowRect = useWindowResize();\r\n    var _c = React__namespace.useState(ZERO_RECT), targetRect = _c[0], setTargetRect = _c[1];\r\n    var windowSizeBeforeFullScreenRef = React__namespace.useRef(ZERO_RECT);\r\n    var targetPageRef = React__namespace.useRef(getCurrentPage());\r\n    var fullScreenSizeRef = React__namespace.useRef(ZERO_RECT);\r\n    var _d = React__namespace.useState(targetRef.current), element = _d[0], setElement = _d[1];\r\n    var fullScreenElementRef = React__namespace.useRef();\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (targetRef.current !== element) {\r\n            setElement(targetRef.current);\r\n        }\r\n    }, []);\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (!element) {\r\n            return;\r\n        }\r\n        var io = new ResizeObserver(function (entries) {\r\n            entries.forEach(function (entry) {\r\n                var _a = entry.target.getBoundingClientRect(), height = _a.height, width = _a.width;\r\n                setTargetRect({ height: height, width: width });\r\n            });\r\n        });\r\n        io.observe(element);\r\n        return function () {\r\n            io.unobserve(element);\r\n            io.disconnect();\r\n        };\r\n    }, [element]);\r\n    var closeOtherFullScreen = React__namespace.useCallback(function (target) {\r\n        var currentFullScreenEle = getFullScreenElement();\r\n        if (currentFullScreenEle && currentFullScreenEle !== target) {\r\n            setFullScreenMode(exports.FullScreenMode.Normal);\r\n            return exitFullScreen(currentFullScreenEle);\r\n        }\r\n        return Promise.resolve();\r\n    }, []);\r\n    var enterFullScreenMode = React__namespace.useCallback(function (target) {\r\n        if (!target || !isFullScreenEnabled()) {\r\n            return;\r\n        }\r\n        setElement(target);\r\n        closeOtherFullScreen(target).then(function () {\r\n            fullScreenElementRef.current = target;\r\n            setFullScreenMode(exports.FullScreenMode.Entering);\r\n            requestFullScreen(target);\r\n        });\r\n    }, []);\r\n    var exitFullScreenMode = React__namespace.useCallback(function () {\r\n        var currentFullScreenEle = getFullScreenElement();\r\n        if (currentFullScreenEle) {\r\n            setFullScreenMode(exports.FullScreenMode.Exitting);\r\n            exitFullScreen(document);\r\n        }\r\n    }, []);\r\n    var handleFullScreenChange = React__namespace.useCallback(function () {\r\n        if (!element) {\r\n            return;\r\n        }\r\n        var currentFullScreenEle = getFullScreenElement();\r\n        if (currentFullScreenEle !== element) {\r\n            setFullScreenMode(exports.FullScreenMode.Exitting);\r\n        }\r\n    }, [element]);\r\n    React__namespace.useEffect(function () {\r\n        switch (fullScreenMode) {\r\n            case exports.FullScreenMode.Entering:\r\n                if (fullScreenElementRef.current) {\r\n                    fullScreenElementRef.current.style.backgroundColor =\r\n                        'var(--rpv-core__full-screen-target-background-color)';\r\n                }\r\n                targetPageRef.current = getCurrentPage();\r\n                windowSizeBeforeFullScreenRef.current = {\r\n                    height: window.innerHeight,\r\n                    width: window.innerWidth,\r\n                };\r\n                break;\r\n            case exports.FullScreenMode.Entered:\r\n                if (getCurrentScrollMode() === exports.ScrollMode.Page) {\r\n                    jumpToPage(targetPageRef.current).then(function () {\r\n                        setFullScreenMode(exports.FullScreenMode.EnteredCompletely);\r\n                    });\r\n                }\r\n                else {\r\n                    setFullScreenMode(exports.FullScreenMode.EnteredCompletely);\r\n                }\r\n                break;\r\n            case exports.FullScreenMode.Exitting:\r\n                if (fullScreenElementRef.current) {\r\n                    fullScreenElementRef.current.style.backgroundColor = '';\r\n                    fullScreenElementRef.current = null;\r\n                }\r\n                targetPageRef.current = getCurrentPage();\r\n                break;\r\n            case exports.FullScreenMode.Exited:\r\n                setFullScreenMode(exports.FullScreenMode.Normal);\r\n                if (getCurrentScrollMode() === exports.ScrollMode.Page) {\r\n                    jumpToPage(targetPageRef.current);\r\n                }\r\n                break;\r\n        }\r\n    }, [fullScreenMode]);\r\n    React__namespace.useEffect(function () {\r\n        if (fullScreenMode === exports.FullScreenMode.Normal) {\r\n            return;\r\n        }\r\n        if (fullScreenMode === exports.FullScreenMode.Entering &&\r\n            windowRect.height === targetRect.height &&\r\n            windowRect.width === targetRect.width &&\r\n            windowRect.height > 0 &&\r\n            windowRect.width > 0 &&\r\n            (fullScreenSizeRef.current.height === 0 || windowRect.height == fullScreenSizeRef.current.height)) {\r\n            fullScreenSizeRef.current = {\r\n                height: window.innerHeight,\r\n                width: window.innerWidth,\r\n            };\r\n            setFullScreenMode(exports.FullScreenMode.Entered);\r\n            return;\r\n        }\r\n        if (fullScreenMode === exports.FullScreenMode.Exitting &&\r\n            windowSizeBeforeFullScreenRef.current.height === windowRect.height &&\r\n            windowSizeBeforeFullScreenRef.current.width === windowRect.width &&\r\n            windowRect.height > 0 &&\r\n            windowRect.width > 0) {\r\n            setFullScreenMode(exports.FullScreenMode.Exited);\r\n        }\r\n    }, [fullScreenMode, windowRect, targetRect]);\r\n    React__namespace.useEffect(function () {\r\n        addFullScreenChangeListener(handleFullScreenChange);\r\n        return function () {\r\n            removeFullScreenChangeListener(handleFullScreenChange);\r\n        };\r\n    }, [element]);\r\n    return {\r\n        enterFullScreenMode: enterFullScreenMode,\r\n        exitFullScreenMode: exitFullScreenMode,\r\n        fullScreenMode: fullScreenMode,\r\n    };\r\n};\r\n\r\nvar DEFAULT_PAGE_LAYOUT = {\r\n    buildPageStyles: function () { return ({}); },\r\n    transformSize: function (_a) {\r\n        var size = _a.size;\r\n        return size;\r\n    },\r\n};\r\nvar ZERO_OFFSET = {\r\n    left: 0,\r\n    top: 0,\r\n};\r\nvar Inner = function (_a) {\r\n    var currentFile = _a.currentFile, defaultScale = _a.defaultScale, doc = _a.doc, enableSmoothScroll = _a.enableSmoothScroll, initialPage = _a.initialPage, initialRotation = _a.initialRotation, initialScale = _a.initialScale, pageLayout = _a.pageLayout, pageSizes = _a.pageSizes, plugins = _a.plugins, renderPage = _a.renderPage, scrollMode = _a.scrollMode, setRenderRange = _a.setRenderRange, viewMode = _a.viewMode, viewerState = _a.viewerState, onDocumentLoad = _a.onDocumentLoad, onOpenFile = _a.onOpenFile, onPageChange = _a.onPageChange, onRotate = _a.onRotate, onRotatePage = _a.onRotatePage, onZoom = _a.onZoom;\r\n    var numPages = doc.numPages;\r\n    var docId = doc.loadingTask.docId;\r\n    var l10n = React__namespace.useContext(LocalizationContext).l10n;\r\n    var themeContext = React__namespace.useContext(ThemeContext);\r\n    var isRtl = themeContext.direction === exports.TextDirection.RightToLeft;\r\n    var containerRef = React__namespace.useRef();\r\n    var pagesRef = React__namespace.useRef();\r\n    var _b = React__namespace.useState(initialPage), currentPage = _b[0], setCurrentPage = _b[1];\r\n    var mostRecentVisitedRef = React__namespace.useRef(null);\r\n    var destinationManager = useDestination({\r\n        getCurrentPage: function () { return stateRef.current.pageIndex; },\r\n    });\r\n    var _c = React__namespace.useState(initialRotation), rotation = _c[0], setRotation = _c[1];\r\n    var previousRotation = usePrevious(rotation);\r\n    var _d = React__namespace.useState(false), pagesRotationChanged = _d[0], setPagesRotationChanged = _d[1];\r\n    var _e = React__namespace.useState(new Map()), pagesRotation = _e[0], setPagesRotation = _e[1];\r\n    var _f = React__namespace.useState(scrollMode), currentScrollMode = _f[0], setCurrentScrollMode = _f[1];\r\n    var previousScrollMode = usePrevious(currentScrollMode);\r\n    var _g = React__namespace.useState(viewMode), currentViewMode = _g[0], setCurrentViewMode = _g[1];\r\n    var previousViewMode = usePrevious(currentViewMode);\r\n    var outlines = useOutlines(doc);\r\n    var _h = React__namespace.useState(initialScale), scale = _h[0], setScale = _h[1];\r\n    var previousScale = usePrevious(scale);\r\n    var stateRef = React__namespace.useRef(viewerState);\r\n    var keepSpecialZoomLevelRef = React__namespace.useRef(typeof defaultScale === 'string' ? defaultScale : null);\r\n    var forceTargetFullScreenRef = React__namespace.useRef(-1);\r\n    var forceTargetZoomRef = React__namespace.useRef(-1);\r\n    var forceTargetInitialPageRef = React__namespace.useRef(initialPage);\r\n    var fullScreen = useFullScreen({\r\n        getCurrentPage: function () { return stateRef.current.pageIndex; },\r\n        getCurrentScrollMode: function () { return stateRef.current.scrollMode; },\r\n        jumpToPage: function (pageIndex) { return jumpToPage(pageIndex); },\r\n        targetRef: pagesRef,\r\n    });\r\n    var _j = React__namespace.useState(-1), renderPageIndex = _j[0], setRenderPageIndex = _j[1];\r\n    var _k = React__namespace.useState(0), renderQueueKey = _k[0], setRenderQueueKey = _k[1];\r\n    var renderQueue = useRenderQueue({ doc: doc });\r\n    React__namespace.useEffect(function () {\r\n        return function () {\r\n            clearPagesCache();\r\n        };\r\n    }, [docId]);\r\n    var layoutBuilder = React__namespace.useMemo(function () { return Object.assign({}, DEFAULT_PAGE_LAYOUT, pageLayout); }, []);\r\n    var sizes = React__namespace.useMemo(function () {\r\n        return Array(numPages)\r\n            .fill(0)\r\n            .map(function (_, pageIndex) {\r\n            var pageSize = [pageSizes[pageIndex].pageHeight, pageSizes[pageIndex].pageWidth];\r\n            var rect = Math.abs(rotation) % 180 === 0\r\n                ? {\r\n                    height: pageSize[0],\r\n                    width: pageSize[1],\r\n                }\r\n                : {\r\n                    height: pageSize[1],\r\n                    width: pageSize[0],\r\n                };\r\n            var pageRect = {\r\n                height: rect.height * scale,\r\n                width: rect.width * scale,\r\n            };\r\n            return layoutBuilder.transformSize({ numPages: numPages, pageIndex: pageIndex, size: pageRect });\r\n        });\r\n    }, [rotation, scale]);\r\n    var virtualizer = useVirtual({\r\n        enableSmoothScroll: enableSmoothScroll,\r\n        isRtl: isRtl,\r\n        numberOfItems: numPages,\r\n        parentRef: pagesRef,\r\n        scrollMode: currentScrollMode,\r\n        setRenderRange: setRenderRange,\r\n        sizes: sizes,\r\n        viewMode: currentViewMode,\r\n    });\r\n    var handlePagesResize = useDebounceCallback(function () {\r\n        if (!keepSpecialZoomLevelRef.current ||\r\n            stateRef.current.fullScreenMode !== exports.FullScreenMode.Normal ||\r\n            (initialPage > 0 && forceTargetInitialPageRef.current === initialPage)) {\r\n            return;\r\n        }\r\n        zoom(keepSpecialZoomLevelRef.current);\r\n    }, 200);\r\n    useTrackResize({\r\n        targetRef: pagesRef,\r\n        onResize: handlePagesResize,\r\n    });\r\n    var setViewerState = function (viewerState) {\r\n        var newState = viewerState;\r\n        plugins.forEach(function (plugin) {\r\n            if (plugin.onViewerStateChange) {\r\n                newState = plugin.onViewerStateChange(newState);\r\n            }\r\n        });\r\n        stateRef.current = newState;\r\n    };\r\n    var getPagesContainer = function () { return pagesRef.current; };\r\n    var getViewerState = function () { return stateRef.current; };\r\n    var handleJumpFromLinkAnnotation = React__namespace.useCallback(function (destination) {\r\n        destinationManager.markVisitedDestination(destination);\r\n    }, []);\r\n    var handleJumpToDestination = React__namespace.useCallback(function (destination) {\r\n        var pageIndex = destination.pageIndex, bottomOffset = destination.bottomOffset, leftOffset = destination.leftOffset, scaleTo = destination.scaleTo;\r\n        var pagesContainer = pagesRef.current;\r\n        var currentState = stateRef.current;\r\n        if (!pagesContainer || !currentState) {\r\n            return Promise.resolve();\r\n        }\r\n        return new Promise(function (resolve, _) {\r\n            getPage(doc, pageIndex).then(function (page) {\r\n                var viewport = page.getViewport({ scale: 1 });\r\n                var top = 0;\r\n                var bottom = (typeof bottomOffset === 'function'\r\n                    ? bottomOffset(viewport.width, viewport.height)\r\n                    : bottomOffset) || 0;\r\n                var left = (typeof leftOffset === 'function' ? leftOffset(viewport.width, viewport.height) : leftOffset) || 0;\r\n                var updateScale = currentState.scale;\r\n                switch (scaleTo) {\r\n                    case exports.SpecialZoomLevel.PageFit:\r\n                        top = 0;\r\n                        left = 0;\r\n                        zoom(exports.SpecialZoomLevel.PageFit);\r\n                        break;\r\n                    case exports.SpecialZoomLevel.PageWidth:\r\n                        updateScale = calculateScale(pagesContainer, pageSizes[pageIndex].pageHeight, pageSizes[pageIndex].pageWidth, exports.SpecialZoomLevel.PageWidth, viewMode, numPages);\r\n                        top = (viewport.height - bottom) * updateScale;\r\n                        left = left * updateScale;\r\n                        zoom(updateScale);\r\n                        break;\r\n                    default:\r\n                        top = (viewport.height - bottom) * updateScale;\r\n                        left = left * updateScale;\r\n                        break;\r\n                }\r\n                switch (currentState.scrollMode) {\r\n                    case exports.ScrollMode.Horizontal:\r\n                        virtualizer.scrollToItem(pageIndex, { left: left, top: 0 }).then(function () {\r\n                            resolve();\r\n                        });\r\n                        break;\r\n                    case exports.ScrollMode.Vertical:\r\n                    default:\r\n                        virtualizer.scrollToItem(pageIndex, { left: 0, top: top }).then(function () {\r\n                            resolve();\r\n                        });\r\n                        break;\r\n                }\r\n            });\r\n        });\r\n    }, []);\r\n    var jumpToDestination = React__namespace.useCallback(function (destination) {\r\n        destinationManager.markVisitedDestination(destination);\r\n        return handleJumpToDestination(destination);\r\n    }, []);\r\n    var jumpToNextDestination = React__namespace.useCallback(function () {\r\n        var nextDestination = destinationManager.getNextDestination();\r\n        return nextDestination ? handleJumpToDestination(nextDestination) : Promise.resolve();\r\n    }, []);\r\n    var jumpToPreviousDestination = React__namespace.useCallback(function () {\r\n        var lastDestination = destinationManager.getPreviousDestination();\r\n        return lastDestination ? handleJumpToDestination(lastDestination) : Promise.resolve();\r\n    }, []);\r\n    var jumpToNextPage = React__namespace.useCallback(function () { return virtualizer.scrollToNextItem(stateRef.current.pageIndex, ZERO_OFFSET); }, []);\r\n    var jumpToPage = React__namespace.useCallback(function (pageIndex) {\r\n        return 0 <= pageIndex && pageIndex < numPages\r\n            ? virtualizer.scrollToItem(pageIndex, ZERO_OFFSET)\r\n            : Promise.resolve();\r\n    }, []);\r\n    var jumpToPreviousPage = React__namespace.useCallback(function () { return virtualizer.scrollToPreviousItem(stateRef.current.pageIndex, ZERO_OFFSET); }, []);\r\n    var openFile = React__namespace.useCallback(function (file) {\r\n        if (getFileExt(file.name).toLowerCase() !== 'pdf') {\r\n            return;\r\n        }\r\n        new Promise(function (resolve) {\r\n            var reader = new FileReader();\r\n            reader.readAsArrayBuffer(file);\r\n            reader.onload = function () {\r\n                var bytes = new Uint8Array(reader.result);\r\n                resolve(bytes);\r\n            };\r\n        }).then(function (data) {\r\n            onOpenFile(file.name, data);\r\n        });\r\n    }, [onOpenFile]);\r\n    var rotate = React__namespace.useCallback(function (direction) {\r\n        var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\r\n        var currentRotation = stateRef.current.rotation;\r\n        var updateRotation = currentRotation === 360 || currentRotation === -360 ? degrees : currentRotation + degrees;\r\n        renderQueue.markNotRendered();\r\n        setRotation(updateRotation);\r\n        setViewerState(__assign(__assign({}, stateRef.current), { rotation: updateRotation }));\r\n        onRotate({ direction: direction, doc: doc, rotation: updateRotation });\r\n    }, []);\r\n    var rotatePage = React__namespace.useCallback(function (pageIndex, direction) {\r\n        var degrees = direction === exports.RotateDirection.Backward ? -90 : 90;\r\n        var rotations = stateRef.current.pagesRotation;\r\n        var currentPageRotation = rotations.has(pageIndex) ? rotations.get(pageIndex) : initialRotation;\r\n        var finalRotation = currentPageRotation + degrees;\r\n        var updateRotations = rotations.set(pageIndex, finalRotation);\r\n        setPagesRotation(updateRotations);\r\n        setPagesRotationChanged(function (value) { return !value; });\r\n        setViewerState(__assign(__assign({}, stateRef.current), { pagesRotation: updateRotations, rotatedPage: pageIndex }));\r\n        onRotatePage({ direction: direction, doc: doc, pageIndex: pageIndex, rotation: finalRotation });\r\n        renderQueue.markRendering(pageIndex);\r\n        setRenderPageIndex(pageIndex);\r\n    }, []);\r\n    var switchScrollMode = React__namespace.useCallback(function (scrollMode) {\r\n        setViewerState(__assign(__assign({}, stateRef.current), { scrollMode: scrollMode }));\r\n        setCurrentScrollMode(scrollMode);\r\n    }, []);\r\n    var switchViewMode = React__namespace.useCallback(function (viewMode) {\r\n        setViewerState(__assign(__assign({}, stateRef.current), { viewMode: viewMode }));\r\n        setCurrentViewMode(viewMode);\r\n    }, []);\r\n    var zoom = React__namespace.useCallback(function (newScale) {\r\n        var pagesEle = pagesRef.current;\r\n        var currentPage = stateRef.current.pageIndex;\r\n        if (currentPage < 0 || currentPage >= numPages) {\r\n            return;\r\n        }\r\n        var currentPageHeight = pageSizes[currentPage].pageHeight;\r\n        var currentPageWidth = pageSizes[currentPage].pageWidth;\r\n        var updateScale = pagesEle\r\n            ? typeof newScale === 'string'\r\n                ? calculateScale(pagesEle, currentPageHeight, currentPageWidth, newScale, stateRef.current.viewMode, numPages)\r\n                : newScale\r\n            : 1;\r\n        keepSpecialZoomLevelRef.current = typeof newScale === 'string' ? newScale : null;\r\n        if (updateScale === stateRef.current.scale) {\r\n            return;\r\n        }\r\n        setRenderQueueKey(function (key) { return key + 1; });\r\n        renderQueue.markNotRendered();\r\n        setScale(updateScale);\r\n        onZoom({ doc: doc, scale: updateScale });\r\n        setViewerState(__assign(__assign({}, stateRef.current), { scale: updateScale }));\r\n    }, []);\r\n    var enterFullScreenMode = React__namespace.useCallback(function (target) {\r\n        fullScreen.enterFullScreenMode(target);\r\n    }, []);\r\n    var exitFullScreenMode = React__namespace.useCallback(function () {\r\n        fullScreen.exitFullScreenMode();\r\n    }, []);\r\n    React__namespace.useEffect(function () {\r\n        setViewerState(__assign(__assign({}, stateRef.current), { fullScreenMode: fullScreen.fullScreenMode }));\r\n    }, [fullScreen.fullScreenMode]);\r\n    React__namespace.useEffect(function () {\r\n        var pluginMethods = {\r\n            enterFullScreenMode: enterFullScreenMode,\r\n            exitFullScreenMode: exitFullScreenMode,\r\n            getPagesContainer: getPagesContainer,\r\n            getViewerState: getViewerState,\r\n            jumpToDestination: jumpToDestination,\r\n            jumpToNextDestination: jumpToNextDestination,\r\n            jumpToPreviousDestination: jumpToPreviousDestination,\r\n            jumpToNextPage: jumpToNextPage,\r\n            jumpToPreviousPage: jumpToPreviousPage,\r\n            jumpToPage: jumpToPage,\r\n            openFile: openFile,\r\n            rotate: rotate,\r\n            rotatePage: rotatePage,\r\n            setViewerState: setViewerState,\r\n            switchScrollMode: switchScrollMode,\r\n            switchViewMode: switchViewMode,\r\n            zoom: zoom,\r\n        };\r\n        plugins.forEach(function (plugin) {\r\n            if (plugin.install) {\r\n                plugin.install(pluginMethods);\r\n            }\r\n        });\r\n        return function () {\r\n            plugins.forEach(function (plugin) {\r\n                if (plugin.uninstall) {\r\n                    plugin.uninstall(pluginMethods);\r\n                }\r\n            });\r\n        };\r\n    }, [docId]);\r\n    React__namespace.useEffect(function () {\r\n        onDocumentLoad({ doc: doc, file: currentFile });\r\n        plugins.forEach(function (plugin) {\r\n            plugin.onDocumentLoad && plugin.onDocumentLoad({ doc: doc, file: currentFile });\r\n        });\r\n    }, [docId]);\r\n    var boundingClientRect = virtualizer.boundingClientRect;\r\n    useRunOnce(function () {\r\n        if (initialPage) {\r\n            jumpToPage(initialPage);\r\n        }\r\n    }, boundingClientRect.height > 0 && boundingClientRect.width > 0);\r\n    useIsomorphicLayoutEffect(function () {\r\n        var latestPage = stateRef.current.pageIndex;\r\n        if (latestPage > -1 && previousScrollMode !== currentScrollMode) {\r\n            virtualizer.scrollToItem(latestPage, ZERO_OFFSET).then(function () {\r\n                if (fullScreen.fullScreenMode === exports.FullScreenMode.EnteredCompletely) {\r\n                    if (!enableSmoothScroll) {\r\n                        renderQueue.markNotRendered();\r\n                    }\r\n                    forceTargetFullScreenRef.current = -1;\r\n                }\r\n            });\r\n        }\r\n    }, [currentScrollMode]);\r\n    useIsomorphicLayoutEffect(function () {\r\n        var latestPage = stateRef.current.pageIndex;\r\n        if (latestPage > -1 && previousRotation !== rotation) {\r\n            virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\r\n        }\r\n    }, [rotation]);\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (previousScale != 0 && previousScale != stateRef.current.scale) {\r\n            virtualizer.zoom(stateRef.current.scale / previousScale, stateRef.current.pageIndex).then(function () {\r\n                if (fullScreen.fullScreenMode === exports.FullScreenMode.EnteredCompletely) {\r\n                    forceTargetZoomRef.current = -1;\r\n                }\r\n            });\r\n        }\r\n    }, [scale]);\r\n    useIsomorphicLayoutEffect(function () {\r\n        if (previousViewMode === stateRef.current.viewMode) {\r\n            return;\r\n        }\r\n        var startPage = virtualizer.startPage, endPage = virtualizer.endPage, virtualItems = virtualizer.virtualItems;\r\n        renderQueue.markNotRendered();\r\n        renderQueue.setRange(startPage, endPage);\r\n        var _loop_1 = function (i) {\r\n            var item = virtualItems.find(function (item) { return item.index === i; });\r\n            if (item) {\r\n                renderQueue.setVisibility(i, item.visibility);\r\n            }\r\n        };\r\n        for (var i = startPage; i <= endPage; i++) {\r\n            _loop_1(i);\r\n        }\r\n        renderNextPage();\r\n    }, [currentViewMode]);\r\n    useIsomorphicLayoutEffect(function () {\r\n        var latestPage = stateRef.current.pageIndex;\r\n        if (latestPage > -1 && previousViewMode !== currentViewMode) {\r\n            virtualizer.scrollToItem(latestPage, ZERO_OFFSET);\r\n        }\r\n    }, [currentViewMode]);\r\n    useIsomorphicLayoutEffect(function () {\r\n        var latestPage = stateRef.current.pageIndex;\r\n        if (latestPage > 0 &&\r\n            latestPage === initialPage &&\r\n            forceTargetInitialPageRef.current === initialPage &&\r\n            keepSpecialZoomLevelRef.current) {\r\n            forceTargetInitialPageRef.current = -1;\r\n            zoom(keepSpecialZoomLevelRef.current);\r\n        }\r\n    }, [currentPage]);\r\n    React__namespace.useEffect(function () {\r\n        var isSmoothScrolling = virtualizer.isSmoothScrolling;\r\n        if (isSmoothScrolling) {\r\n            return;\r\n        }\r\n        if (mostRecentVisitedRef.current === null || mostRecentVisitedRef.current !== currentPage) {\r\n            mostRecentVisitedRef.current = currentPage;\r\n            onPageChange({ currentPage: currentPage, doc: doc });\r\n        }\r\n    }, [currentPage, virtualizer.isSmoothScrolling]);\r\n    React__namespace.useEffect(function () {\r\n        if (fullScreen.fullScreenMode === exports.FullScreenMode.Entering && stateRef.current.scrollMode === exports.ScrollMode.Page) {\r\n            forceTargetFullScreenRef.current = stateRef.current.pageIndex;\r\n        }\r\n        if (fullScreen.fullScreenMode === exports.FullScreenMode.EnteredCompletely &&\r\n            stateRef.current.scrollMode === exports.ScrollMode.Page &&\r\n            enableSmoothScroll) {\r\n            forceTargetFullScreenRef.current = -1;\r\n        }\r\n        if (fullScreen.fullScreenMode === exports.FullScreenMode.EnteredCompletely && keepSpecialZoomLevelRef.current) {\r\n            forceTargetZoomRef.current = stateRef.current.pageIndex;\r\n            zoom(keepSpecialZoomLevelRef.current);\r\n        }\r\n    }, [fullScreen.fullScreenMode]);\r\n    React__namespace.useEffect(function () {\r\n        if (fullScreen.fullScreenMode === exports.FullScreenMode.Entering ||\r\n            fullScreen.fullScreenMode === exports.FullScreenMode.Exitting ||\r\n            virtualizer.isSmoothScrolling) {\r\n            return;\r\n        }\r\n        var startPage = virtualizer.startPage, endPage = virtualizer.endPage, maxVisbilityIndex = virtualizer.maxVisbilityIndex, virtualItems = virtualizer.virtualItems;\r\n        var currentPage = maxVisbilityIndex;\r\n        var isFullScreen = fullScreen.fullScreenMode === exports.FullScreenMode.Entered ||\r\n            fullScreen.fullScreenMode === exports.FullScreenMode.EnteredCompletely;\r\n        if (isFullScreen && currentPage !== forceTargetFullScreenRef.current && forceTargetFullScreenRef.current > -1) {\r\n            return;\r\n        }\r\n        if (isFullScreen && currentPage !== forceTargetZoomRef.current && forceTargetZoomRef.current > -1) {\r\n            return;\r\n        }\r\n        setCurrentPage(currentPage);\r\n        setViewerState(__assign(__assign({}, stateRef.current), { pageIndex: currentPage }));\r\n        renderQueue.setRange(startPage, endPage);\r\n        var _loop_2 = function (i) {\r\n            var item = virtualItems.find(function (item) { return item.index === i; });\r\n            if (item) {\r\n                renderQueue.setVisibility(i, item.visibility);\r\n            }\r\n        };\r\n        for (var i = startPage; i <= endPage; i++) {\r\n            _loop_2(i);\r\n        }\r\n        renderNextPage();\r\n    }, [\r\n        virtualizer.startPage,\r\n        virtualizer.endPage,\r\n        virtualizer.isSmoothScrolling,\r\n        virtualizer.maxVisbilityIndex,\r\n        fullScreen.fullScreenMode,\r\n        pagesRotationChanged,\r\n        rotation,\r\n        scale,\r\n    ]);\r\n    var handlePageRenderCompleted = React__namespace.useCallback(function (pageIndex) {\r\n        renderQueue.markRendered(pageIndex);\r\n        renderNextPage();\r\n    }, [renderQueueKey]);\r\n    var renderNextPage = function () {\r\n        var nextPage = renderQueue.getHighestPriorityPage();\r\n        if (nextPage > -1 && renderQueue.isInRange(nextPage)) {\r\n            renderQueue.markRendering(nextPage);\r\n            setRenderPageIndex(nextPage);\r\n        }\r\n    };\r\n    var executeNamedAction = function (action) {\r\n        var previousPage = currentPage - 1;\r\n        var nextPage = currentPage + 1;\r\n        switch (action) {\r\n            case 'FirstPage':\r\n                jumpToPage(0);\r\n                break;\r\n            case 'LastPage':\r\n                jumpToPage(numPages - 1);\r\n                break;\r\n            case 'NextPage':\r\n                nextPage < numPages && jumpToPage(nextPage);\r\n                break;\r\n            case 'PrevPage':\r\n                previousPage >= 0 && jumpToPage(previousPage);\r\n                break;\r\n        }\r\n    };\r\n    var renderViewer = React__namespace.useCallback(function () {\r\n        var virtualItems = virtualizer.virtualItems;\r\n        var chunks = [];\r\n        switch (currentViewMode) {\r\n            case exports.ViewMode.DualPage:\r\n                chunks = chunk(virtualItems, 2);\r\n                break;\r\n            case exports.ViewMode.DualPageWithCover:\r\n                if (virtualItems.length) {\r\n                    chunks =\r\n                        virtualItems[0].index === 0\r\n                            ? [[virtualItems[0]]].concat(chunk(virtualItems.slice(1), 2))\r\n                            : chunk(virtualItems, 2);\r\n                }\r\n                break;\r\n            case exports.ViewMode.SinglePage:\r\n            default:\r\n                chunks = chunk(virtualItems, 1);\r\n                break;\r\n        }\r\n        var pageLabel = l10n && l10n.core ? l10n.core.pageLabel : 'Page {{pageIndex}}';\r\n        var slot = {\r\n            attrs: {\r\n                className: 'rpv-core__inner-container',\r\n                'data-testid': 'core__inner-container',\r\n                ref: containerRef,\r\n                style: {\r\n                    height: '100%',\r\n                },\r\n            },\r\n            children: React__namespace.createElement(React__namespace.Fragment, null),\r\n            subSlot: {\r\n                attrs: {\r\n                    'data-testid': 'core__inner-pages',\r\n                    className: classNames({\r\n                        'rpv-core__inner-pages': true,\r\n                        'rpv-core__inner-pages--horizontal': currentScrollMode === exports.ScrollMode.Horizontal,\r\n                        'rpv-core__inner-pages--rtl': isRtl,\r\n                        'rpv-core__inner-pages--single': currentScrollMode === exports.ScrollMode.Page,\r\n                        'rpv-core__inner-pages--vertical': currentScrollMode === exports.ScrollMode.Vertical,\r\n                        'rpv-core__inner-pages--wrapped': currentScrollMode === exports.ScrollMode.Wrapped,\r\n                    }),\r\n                    ref: pagesRef,\r\n                    style: {\r\n                        height: '100%',\r\n                        position: 'relative',\r\n                    },\r\n                },\r\n                children: (React__namespace.createElement(\"div\", { \"data-testid\": \"core__inner-current-page-\".concat(currentPage), style: Object.assign({\r\n                        '--scale-factor': scale,\r\n                    }, virtualizer.getContainerStyles()) }, chunks.map(function (items) { return (React__namespace.createElement(\"div\", { className: classNames({\r\n                        'rpv-core__inner-page-container': true,\r\n                        'rpv-core__inner-page-container--single': currentScrollMode === exports.ScrollMode.Page,\r\n                    }), style: virtualizer.getItemContainerStyles(items[0]), key: \"\".concat(items[0].index, \"-\").concat(currentViewMode) }, items.map(function (item) {\r\n                    var isCover = currentViewMode === exports.ViewMode.DualPageWithCover &&\r\n                        (item.index === 0 || (numPages % 2 === 0 && item.index === numPages - 1));\r\n                    return (React__namespace.createElement(\"div\", { \"aria-label\": pageLabel.replace('{{pageIndex}}', \"\".concat(item.index + 1)), className: classNames({\r\n                            'rpv-core__inner-page': true,\r\n                            'rpv-core__inner-page--dual-even': currentViewMode === exports.ViewMode.DualPage && item.index % 2 === 0,\r\n                            'rpv-core__inner-page--dual-odd': currentViewMode === exports.ViewMode.DualPage && item.index % 2 === 1,\r\n                            'rpv-core__inner-page--dual-cover': isCover,\r\n                            'rpv-core__inner-page--dual-cover-even': currentViewMode === exports.ViewMode.DualPageWithCover &&\r\n                                !isCover &&\r\n                                item.index % 2 === 0,\r\n                            'rpv-core__inner-page--dual-cover-odd': currentViewMode === exports.ViewMode.DualPageWithCover &&\r\n                                !isCover &&\r\n                                item.index % 2 === 1,\r\n                            'rpv-core__inner-page--single': currentViewMode === exports.ViewMode.SinglePage &&\r\n                                currentScrollMode === exports.ScrollMode.Page,\r\n                        }), role: \"region\", key: \"\".concat(item.index, \"-\").concat(currentViewMode), style: Object.assign({}, virtualizer.getItemStyles(item), layoutBuilder.buildPageStyles({\r\n                            numPages: numPages,\r\n                            pageIndex: item.index,\r\n                            scrollMode: currentScrollMode,\r\n                            viewMode: currentViewMode,\r\n                        })) },\r\n                        React__namespace.createElement(PageLayer, { doc: doc, measureRef: item.measureRef, outlines: outlines, pageIndex: item.index, pageRotation: pagesRotation.has(item.index) ? pagesRotation.get(item.index) : 0, pageSize: pageSizes[item.index], plugins: plugins, renderPage: renderPage, renderQueueKey: renderQueueKey, rotation: rotation, scale: scale, shouldRender: renderPageIndex === item.index, viewMode: currentViewMode, onExecuteNamedAction: executeNamedAction, onJumpFromLinkAnnotation: handleJumpFromLinkAnnotation, onJumpToDest: jumpToDestination, onRenderCompleted: handlePageRenderCompleted, onRotatePage: rotatePage })));\r\n                }))); }))),\r\n            },\r\n        };\r\n        plugins.forEach(function (plugin) {\r\n            if (plugin.renderViewer) {\r\n                slot = plugin.renderViewer({\r\n                    containerRef: containerRef,\r\n                    doc: doc,\r\n                    pagesContainerRef: pagesRef,\r\n                    pagesRotation: pagesRotation,\r\n                    pageSizes: pageSizes,\r\n                    rotation: rotation,\r\n                    slot: slot,\r\n                    themeContext: themeContext,\r\n                    jumpToPage: jumpToPage,\r\n                    openFile: openFile,\r\n                    rotate: rotate,\r\n                    rotatePage: rotatePage,\r\n                    switchScrollMode: switchScrollMode,\r\n                    switchViewMode: switchViewMode,\r\n                    zoom: zoom,\r\n                });\r\n            }\r\n        });\r\n        return slot;\r\n    }, [plugins, virtualizer]);\r\n    var renderSlot = React__namespace.useCallback(function (slot) { return (React__namespace.createElement(\"div\", __assign({}, slot.attrs, { style: slot.attrs && slot.attrs.style ? slot.attrs.style : {} }),\r\n        slot.children,\r\n        slot.subSlot && renderSlot(slot.subSlot))); }, []);\r\n    return renderSlot(renderViewer());\r\n};\r\n\r\nvar LEVELS = [\r\n    0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.4, 2.7, 3.0, 3.3, 3.7, 4.1, 4.6,\r\n    5.1, 5.7, 6.3, 7.0, 7.7, 8.5, 9.4, 10,\r\n];\r\nvar decrease = function (currentLevel) {\r\n    var found = LEVELS.findIndex(function (item) { return item >= currentLevel; });\r\n    return found === -1 || found === 0 ? currentLevel : LEVELS[found - 1];\r\n};\r\n\r\nvar RESERVE_HEIGHT = 45;\r\nvar RESERVE_WIDTH = 45;\r\nvar PageSizeCalculator = function (_a) {\r\n    var defaultScale = _a.defaultScale, doc = _a.doc, render = _a.render, scrollMode = _a.scrollMode, viewMode = _a.viewMode;\r\n    var pagesRef = React__namespace.useRef();\r\n    var _b = React__namespace.useState({\r\n        pageSizes: [],\r\n        scale: 0,\r\n    }), state = _b[0], setState = _b[1];\r\n    React__namespace.useLayoutEffect(function () {\r\n        var queryPageSizes = Array(doc.numPages)\r\n            .fill(0)\r\n            .map(function (_, i) {\r\n            return new Promise(function (resolve, _) {\r\n                getPage(doc, i).then(function (pdfPage) {\r\n                    var viewport = pdfPage.getViewport({ scale: 1 });\r\n                    resolve({\r\n                        pageHeight: viewport.height,\r\n                        pageWidth: viewport.width,\r\n                        rotation: viewport.rotation,\r\n                    });\r\n                });\r\n            });\r\n        });\r\n        Promise.all(queryPageSizes).then(function (pageSizes) {\r\n            var pagesEle = pagesRef.current;\r\n            if (!pagesEle || pageSizes.length === 0) {\r\n                return;\r\n            }\r\n            var w = pageSizes[0].pageWidth;\r\n            var h = pageSizes[0].pageHeight;\r\n            var parentEle = pagesEle.parentElement;\r\n            var scaleWidth = (parentEle.clientWidth - RESERVE_WIDTH) / w;\r\n            var scaleHeight = (parentEle.clientHeight - RESERVE_HEIGHT) / h;\r\n            var scaled = scaleWidth;\r\n            switch (scrollMode) {\r\n                case exports.ScrollMode.Horizontal:\r\n                    scaled = Math.min(scaleWidth, scaleHeight);\r\n                    break;\r\n                case exports.ScrollMode.Vertical:\r\n                default:\r\n                    scaled = scaleWidth;\r\n                    break;\r\n            }\r\n            var scale = defaultScale\r\n                ? typeof defaultScale === 'string'\r\n                    ? calculateScale(parentEle, h, w, defaultScale, viewMode, doc.numPages)\r\n                    : defaultScale\r\n                : decrease(scaled);\r\n            setState({ pageSizes: pageSizes, scale: scale });\r\n        });\r\n    }, [doc.loadingTask.docId]);\r\n    return state.pageSizes.length === 0 || state.scale === 0 ? (React__namespace.createElement(\"div\", { className: \"rpv-core__page-size-calculator\", \"data-testid\": \"core__page-size-calculating\", ref: pagesRef },\r\n        React__namespace.createElement(Spinner, null))) : (render(state.pageSizes, state.scale));\r\n};\r\n\r\nvar LoadingStatus = (function () {\r\n    function LoadingStatus() {\r\n    }\r\n    return LoadingStatus;\r\n}());\r\n\r\nvar AskForPasswordState = (function (_super) {\r\n    __extends(AskForPasswordState, _super);\r\n    function AskForPasswordState(verifyPassword, passwordStatus) {\r\n        var _this = _super.call(this) || this;\r\n        _this.verifyPassword = verifyPassword;\r\n        _this.passwordStatus = passwordStatus;\r\n        return _this;\r\n    }\r\n    return AskForPasswordState;\r\n}(LoadingStatus));\r\n\r\nvar AskingPassword = function (_a) {\r\n    var passwordStatus = _a.passwordStatus, renderProtectedView = _a.renderProtectedView, verifyPassword = _a.verifyPassword, onDocumentAskPassword = _a.onDocumentAskPassword;\r\n    var l10n = React__namespace.useContext(LocalizationContext).l10n;\r\n    var _b = React__namespace.useState(''), password = _b[0], setPassword = _b[1];\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var submit = function () { return verifyPassword(password); };\r\n    var handleKeyDown = function (e) {\r\n        if (e.key === 'Enter') {\r\n            submit();\r\n        }\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        if (onDocumentAskPassword) {\r\n            onDocumentAskPassword({\r\n                verifyPassword: verifyPassword,\r\n            });\r\n        }\r\n    }, []);\r\n    if (renderProtectedView) {\r\n        return renderProtectedView({\r\n            passwordStatus: passwordStatus,\r\n            verifyPassword: verifyPassword,\r\n        });\r\n    }\r\n    return (React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-wrapper\" },\r\n        React__namespace.createElement(\"div\", { className: classNames({\r\n                'rpv-core__asking-password': true,\r\n                'rpv-core__asking-password--rtl': isRtl,\r\n            }) },\r\n            React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-message\" },\r\n                passwordStatus === exports.PasswordStatus.RequiredPassword &&\r\n                    l10n.core.askingPassword\r\n                        .requirePasswordToOpen,\r\n                passwordStatus === exports.PasswordStatus.WrongPassword &&\r\n                    l10n.core.wrongPassword.tryAgain),\r\n            React__namespace.createElement(\"div\", { className: \"rpv-core__asking-password-body\" },\r\n                React__namespace.createElement(\"div\", { className: classNames({\r\n                        'rpv-core__asking-password-input': true,\r\n                        'rpv-core__asking-password-input--ltr': !isRtl,\r\n                        'rpv-core__asking-password-input--rtl': isRtl,\r\n                    }) },\r\n                    React__namespace.createElement(TextBox, { testId: \"core__asking-password-input\", type: \"password\", value: password, onChange: setPassword, onKeyDown: handleKeyDown })),\r\n                React__namespace.createElement(PrimaryButton, { onClick: submit }, l10n.core.askingPassword.submit)))));\r\n};\r\n\r\nvar CompletedState = (function (_super) {\r\n    __extends(CompletedState, _super);\r\n    function CompletedState(doc) {\r\n        var _this = _super.call(this) || this;\r\n        _this.doc = doc;\r\n        return _this;\r\n    }\r\n    return CompletedState;\r\n}(LoadingStatus));\r\n\r\nvar FailureState = (function (_super) {\r\n    __extends(FailureState, _super);\r\n    function FailureState(error) {\r\n        var _this = _super.call(this) || this;\r\n        _this.error = error;\r\n        return _this;\r\n    }\r\n    return FailureState;\r\n}(LoadingStatus));\r\n\r\nvar LoadingState = (function (_super) {\r\n    __extends(LoadingState, _super);\r\n    function LoadingState(percentages) {\r\n        var _this = _super.call(this) || this;\r\n        _this.percentages = percentages;\r\n        return _this;\r\n    }\r\n    return LoadingState;\r\n}(LoadingStatus));\r\n\r\nvar DocumentLoader = function (_a) {\r\n    var characterMap = _a.characterMap, file = _a.file, httpHeaders = _a.httpHeaders, render = _a.render, renderError = _a.renderError, renderLoader = _a.renderLoader, renderProtectedView = _a.renderProtectedView, transformGetDocumentParams = _a.transformGetDocumentParams, withCredentials = _a.withCredentials, onDocumentAskPassword = _a.onDocumentAskPassword;\r\n    var direction = React__namespace.useContext(ThemeContext).direction;\r\n    var isRtl = direction === exports.TextDirection.RightToLeft;\r\n    var _b = React__namespace.useState(new LoadingState(0)), status = _b[0], setStatus = _b[1];\r\n    var docRef = React__namespace.useRef('');\r\n    var isMounted = useIsMounted();\r\n    React__namespace.useEffect(function () {\r\n        docRef.current = '';\r\n        setStatus(new LoadingState(0));\r\n        var worker = new PdfJsApi__namespace.PDFWorker({ name: \"PDFWorker_\".concat(Date.now()) });\r\n        var params = Object.assign({\r\n            httpHeaders: httpHeaders,\r\n            withCredentials: withCredentials,\r\n            worker: worker,\r\n        }, 'string' === typeof file ? { url: file } : { data: file }, characterMap\r\n            ? {\r\n                cMapUrl: characterMap.url,\r\n                cMapPacked: characterMap.isCompressed,\r\n            }\r\n            : {});\r\n        var transformParams = transformGetDocumentParams ? transformGetDocumentParams(params) : params;\r\n        var loadingTask = PdfJsApi__namespace.getDocument(transformParams);\r\n        loadingTask.onPassword = function (verifyPassword, reason) {\r\n            switch (reason) {\r\n                case PdfJsApi__namespace.PasswordResponses.NEED_PASSWORD:\r\n                    isMounted.current &&\r\n                        setStatus(new AskForPasswordState(verifyPassword, exports.PasswordStatus.RequiredPassword));\r\n                    break;\r\n                case PdfJsApi__namespace.PasswordResponses.INCORRECT_PASSWORD:\r\n                    isMounted.current &&\r\n                        setStatus(new AskForPasswordState(verifyPassword, exports.PasswordStatus.WrongPassword));\r\n                    break;\r\n            }\r\n        };\r\n        loadingTask.onProgress = function (progress) {\r\n            var loaded = progress.total > 0\r\n                ?\r\n                    Math.min(100, (100 * progress.loaded) / progress.total)\r\n                : 100;\r\n            if (isMounted.current && docRef.current === '') {\r\n                setStatus(new LoadingState(loaded));\r\n            }\r\n        };\r\n        loadingTask.promise.then(function (doc) {\r\n            docRef.current = doc.loadingTask.docId;\r\n            isMounted.current && setStatus(new CompletedState(doc));\r\n        }, function (err) {\r\n            return isMounted.current &&\r\n                !worker.destroyed &&\r\n                setStatus(new FailureState({\r\n                    message: err.message || 'Cannot load document',\r\n                    name: err.name,\r\n                }));\r\n        });\r\n        return function () {\r\n            loadingTask.destroy();\r\n            worker.destroy();\r\n        };\r\n    }, [file]);\r\n    if (status instanceof AskForPasswordState) {\r\n        return (React__namespace.createElement(AskingPassword, { passwordStatus: status.passwordStatus, renderProtectedView: renderProtectedView, verifyPassword: status.verifyPassword, onDocumentAskPassword: onDocumentAskPassword }));\r\n    }\r\n    if (status instanceof CompletedState) {\r\n        return render(status.doc);\r\n    }\r\n    if (status instanceof FailureState) {\r\n        return renderError ? (renderError(status.error)) : (React__namespace.createElement(\"div\", { className: classNames({\r\n                'rpv-core__doc-error': true,\r\n                'rpv-core__doc-error--rtl': isRtl,\r\n            }) },\r\n            React__namespace.createElement(\"div\", { className: \"rpv-core__doc-error-text\" }, status.error.message)));\r\n    }\r\n    return (React__namespace.createElement(\"div\", { \"data-testid\": \"core__doc-loading\", className: classNames({\r\n            'rpv-core__doc-loading': true,\r\n            'rpv-core__doc-loading--rtl': isRtl,\r\n        }) }, renderLoader ? renderLoader(status.percentages) : React__namespace.createElement(Spinner, null)));\r\n};\r\n\r\nvar isDarkMode = function () {\r\n    return typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n};\r\n\r\nvar withTheme = function (theme, onSwitchTheme) {\r\n    var initialTheme = React__namespace.useMemo(function () { return (theme === 'auto' ? (isDarkMode() ? 'dark' : 'light') : theme); }, []);\r\n    var _a = React__namespace.useState(initialTheme), currentTheme = _a[0], setCurrentTheme = _a[1];\r\n    var prevTheme = usePrevious(currentTheme);\r\n    React__namespace.useEffect(function () {\r\n        if (theme !== 'auto') {\r\n            return;\r\n        }\r\n        var media = window.matchMedia('(prefers-color-scheme: dark)');\r\n        var handler = function (e) {\r\n            setCurrentTheme(e.matches ? 'dark' : 'light');\r\n        };\r\n        media.addEventListener('change', handler);\r\n        return function () { return media.removeEventListener('change', handler); };\r\n    }, []);\r\n    React__namespace.useEffect(function () {\r\n        if (currentTheme !== prevTheme && onSwitchTheme) {\r\n            onSwitchTheme(currentTheme);\r\n        }\r\n    }, [currentTheme]);\r\n    React__namespace.useEffect(function () {\r\n        if (theme !== currentTheme) {\r\n            setCurrentTheme(theme);\r\n        }\r\n    }, [theme]);\r\n    return {\r\n        currentTheme: currentTheme,\r\n        setCurrentTheme: setCurrentTheme,\r\n    };\r\n};\r\n\r\nvar isSameUrl = function (a, b) {\r\n    var typeA = typeof a;\r\n    var typeB = typeof b;\r\n    if (typeA === 'string' && typeB === 'string' && a === b) {\r\n        return true;\r\n    }\r\n    if (typeA === 'object' && typeB === 'object') {\r\n        return a.length === b.length && a.every(function (v, i) { return v === b[i]; });\r\n    }\r\n    return false;\r\n};\r\n\r\nvar NUM_OVERSCAN_PAGES = 3;\r\nvar DEFAULT_RENDER_RANGE = function (visiblePagesRange) {\r\n    return {\r\n        startPage: visiblePagesRange.startPage - NUM_OVERSCAN_PAGES,\r\n        endPage: visiblePagesRange.endPage + NUM_OVERSCAN_PAGES,\r\n    };\r\n};\r\nvar Viewer = function (_a) {\r\n    var characterMap = _a.characterMap, defaultScale = _a.defaultScale, _b = _a.enableSmoothScroll, enableSmoothScroll = _b === void 0 ? true : _b, fileUrl = _a.fileUrl, _c = _a.httpHeaders, httpHeaders = _c === void 0 ? {} : _c, _d = _a.initialPage, initialPage = _d === void 0 ? 0 : _d, pageLayout = _a.pageLayout, _e = _a.initialRotation, initialRotation = _e === void 0 ? 0 : _e, localization = _a.localization, _f = _a.plugins, plugins = _f === void 0 ? [] : _f, renderError = _a.renderError, renderLoader = _a.renderLoader, renderPage = _a.renderPage, renderProtectedView = _a.renderProtectedView, _g = _a.scrollMode, scrollMode = _g === void 0 ? exports.ScrollMode.Vertical : _g, _h = _a.setRenderRange, setRenderRange = _h === void 0 ? DEFAULT_RENDER_RANGE : _h, transformGetDocumentParams = _a.transformGetDocumentParams, _j = _a.theme, theme = _j === void 0 ? {\r\n        direction: exports.TextDirection.LeftToRight,\r\n        theme: 'light',\r\n    } : _j, _k = _a.viewMode, viewMode = _k === void 0 ? exports.ViewMode.SinglePage : _k, _l = _a.withCredentials, withCredentials = _l === void 0 ? false : _l, onDocumentAskPassword = _a.onDocumentAskPassword, _m = _a.onDocumentLoad, onDocumentLoad = _m === void 0 ? function () {\r\n    } : _m, _o = _a.onPageChange, onPageChange = _o === void 0 ? function () {\r\n    } : _o, _p = _a.onRotate, onRotate = _p === void 0 ? function () {\r\n    } : _p, _q = _a.onRotatePage, onRotatePage = _q === void 0 ? function () {\r\n    } : _q, _r = _a.onSwitchTheme, onSwitchTheme = _r === void 0 ? function () {\r\n    } : _r, _s = _a.onZoom, onZoom = _s === void 0 ? function () {\r\n    } : _s;\r\n    var _t = React__namespace.useState({\r\n        data: fileUrl,\r\n        name: typeof fileUrl === 'string' ? fileUrl : '',\r\n        shouldLoad: false,\r\n    }), file = _t[0], setFile = _t[1];\r\n    var openFile = function (fileName, data) {\r\n        setFile({\r\n            data: data,\r\n            name: fileName,\r\n            shouldLoad: true,\r\n        });\r\n    };\r\n    var _u = React__namespace.useState(false), visible = _u[0], setVisible = _u[1];\r\n    var prevFile = usePrevious(file);\r\n    React__namespace.useEffect(function () {\r\n        if (!isSameUrl(prevFile.data, fileUrl)) {\r\n            setFile({\r\n                data: fileUrl,\r\n                name: typeof fileUrl === 'string' ? fileUrl : '',\r\n                shouldLoad: visible,\r\n            });\r\n        }\r\n    }, [fileUrl, visible]);\r\n    var visibilityChanged = function (params) {\r\n        setVisible(params.isVisible);\r\n        if (params.isVisible) {\r\n            setFile(function (currentFile) { return Object.assign({}, currentFile, { shouldLoad: true }); });\r\n        }\r\n    };\r\n    var containerRef = useIntersectionObserver({\r\n        onVisibilityChanged: visibilityChanged,\r\n    });\r\n    var themeProps = typeof theme === 'string' ? { direction: exports.TextDirection.LeftToRight, theme: theme } : theme;\r\n    var _v = React__namespace.useState(localization || DefaultLocalization), l10n = _v[0], setL10n = _v[1];\r\n    var localizationContext = { l10n: l10n, setL10n: setL10n };\r\n    var themeContext = Object.assign({}, { direction: themeProps.direction }, withTheme(themeProps.theme || 'light', onSwitchTheme));\r\n    React__namespace.useEffect(function () {\r\n        if (localization) {\r\n            setL10n(localization);\r\n        }\r\n    }, [localization]);\r\n    return (React__namespace.createElement(LocalizationContext.Provider, { value: localizationContext },\r\n        React__namespace.createElement(ThemeContext.Provider, { value: themeContext },\r\n            React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-core__viewer rpv-core__viewer--\".concat(themeContext.currentTheme), \"data-testid\": \"core__viewer\", style: {\r\n                    height: '100%',\r\n                    width: '100%',\r\n                } }, file.shouldLoad && (React__namespace.createElement(DocumentLoader, { characterMap: characterMap, file: file.data, httpHeaders: httpHeaders, render: function (doc) { return (React__namespace.createElement(PageSizeCalculator, { defaultScale: defaultScale, doc: doc, render: function (pageSizes, initialScale) { return (React__namespace.createElement(Inner, { currentFile: {\r\n                            data: file.data,\r\n                            name: file.name,\r\n                        }, defaultScale: defaultScale, doc: doc, enableSmoothScroll: enableSmoothScroll, initialPage: initialPage, initialRotation: initialRotation, initialScale: initialScale, pageLayout: pageLayout, pageSizes: pageSizes, plugins: plugins, renderPage: renderPage, scrollMode: scrollMode, setRenderRange: setRenderRange, viewMode: viewMode, viewerState: {\r\n                            file: file,\r\n                            fullScreenMode: exports.FullScreenMode.Normal,\r\n                            pageIndex: -1,\r\n                            pageHeight: pageSizes[0].pageHeight,\r\n                            pageWidth: pageSizes[0].pageWidth,\r\n                            pagesRotation: new Map(),\r\n                            rotation: initialRotation,\r\n                            scale: initialScale,\r\n                            scrollMode: scrollMode,\r\n                            viewMode: viewMode,\r\n                        }, onDocumentLoad: onDocumentLoad, onOpenFile: openFile, onPageChange: onPageChange, onRotate: onRotate, onRotatePage: onRotatePage, onZoom: onZoom })); }, scrollMode: scrollMode, viewMode: viewMode })); }, renderError: renderError, renderLoader: renderLoader, renderProtectedView: renderProtectedView, transformGetDocumentParams: transformGetDocumentParams, withCredentials: withCredentials, onDocumentAskPassword: onDocumentAskPassword }))))));\r\n};\r\n\r\nvar Worker = function (_a) {\r\n    var children = _a.children, workerUrl = _a.workerUrl;\r\n    PdfJsApi__namespace.GlobalWorkerOptions.workerSrc = workerUrl;\r\n    return React__namespace.createElement(React__namespace.Fragment, null, children);\r\n};\r\n\r\nexports.Button = Button;\r\nexports.Icon = Icon;\r\nexports.LazyRender = LazyRender;\r\nexports.LocalizationContext = LocalizationContext;\r\nexports.Menu = Menu;\r\nexports.MenuDivider = MenuDivider;\r\nexports.MenuItem = MenuItem;\r\nexports.MinimalButton = MinimalButton;\r\nexports.Modal = Modal;\r\nexports.Popover = Popover;\r\nexports.PrimaryButton = PrimaryButton;\r\nexports.ProgressBar = ProgressBar;\r\nexports.Separator = Separator;\r\nexports.Spinner = Spinner;\r\nexports.Splitter = Splitter;\r\nexports.TextBox = TextBox;\r\nexports.ThemeContext = ThemeContext;\r\nexports.Tooltip = Tooltip;\r\nexports.Viewer = Viewer;\r\nexports.Worker = Worker;\r\nexports.chunk = chunk;\r\nexports.classNames = classNames;\r\nexports.createStore = createStore;\r\nexports.getDestination = getDestination;\r\nexports.getPage = getPage;\r\nexports.isFullScreenEnabled = isFullScreenEnabled;\r\nexports.isMac = isMac;\r\nexports.useDebounceCallback = useDebounceCallback;\r\nexports.useIntersectionObserver = useIntersectionObserver;\r\nexports.useIsMounted = useIsMounted;\r\nexports.useIsomorphicLayoutEffect = useIsomorphicLayoutEffect;\r\nexports.usePrevious = usePrevious;\r\nexports.useRenderQueue = useRenderQueue;\r\n", "/**\r\n * A React component to view a PDF document\r\n *\r\n * @see https://react-pdf-viewer.dev\r\n * @license https://react-pdf-viewer.dev/license\r\n * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>\r\n */\r\n\r\n'use strict';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n    module.exports = require('./cjs/core.min.js');\r\n} else {\r\n    module.exports = require('./cjs/core.js');\r\n}\r\n"],
  "mappings": "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",
  "names": ["d", "b", "__assign", "Api", "PageRenderStatus", "isOpened", "page", "pageIndex", "AnnotationBorderStyleType", "TogglePopupBy", "_a", "ScrollDirection", "isSmoothScrolling", "maxVisbilityIndex", "_b", "startPage", "endPage", "virtualItems", "i", "measurements", "scrollOffset", "viewerState", "scrollMode", "viewMode", "currentPage", "item", "_", "LoadingStatus", "AskForPasswordState", "CompletedState", "FailureState", "LoadingState"]
}
